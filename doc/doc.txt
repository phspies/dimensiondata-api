2. Account API
Before you can begin using the range of Server, Network and Image APIs, you will need to first obtain your
organization details. The My Account function accepts your any administrator credentials and returns the
user’s details, including their Organization ID. As the Primary Administrator, retrieving the Organization ID
this is the first step for building an API integration.

2.1. Get My Account Details
2.1.1. Description
Returns, amongst other things, your Organization ID that will be used as the basis for subsequent API
interactions.

2.1.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/myaccount

Request Type

HTTP GET

2.1.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns3:Account xmlns:ns3="http://oec.api.opsource.net/schemas/directory" .. >
<ns3:userName>rdyer</ns3:userName>
<ns3:fullName>Joe Public</ns3:fullName>
<ns3:firstName>Joe</ns3:firstName>
<ns3:lastName>Public</ns3:lastName>
<ns3:emailAddress>jpublic24583@example.com</ns3:emailAddress>
<ns3:orgId>1831c1a9-9c03-44df-a5a4-f2a4662d6bde</ns3:orgId>
<ns3:roles>
<ns3:role>
<ns3:name>primary administrator</ns3:name>
</ns3:role>
</ns3:roles>
</ns3:Account>

2.1.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_110

Could not find user account.



2.2. Add Sub-Administrator Account
2.2.1. Description
Adds a new Sub-Administrator Account to the organization.
The account is created with a set of roles defining the level of access to the organization’s Cloud
resources or the account can be created as “read only”, restricted to just viewing Cloud resources and
unable to generate Cloud Reports.
Notes on roles:
•

The <roles> element is not required. If <roles> is not included on a request the resulting account
will be treated as “read only”.

•

If a “read only” named <role> is supplied, no other role should be included. The resulting account
will be treated as “read only”.

•

<roles> can include any or multiple roles as listed below. Please see the sample request for exact
usage:
o

network

o

server

o

create image

o

storage

o

reports
OR

o

read only

Note: the value of the <orgId> element must match the {org-id} on the request URL or a REASON_320
error will be returned.

2.2.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/account

Request Type

HTTP POST

Request Data
<Account xmlns="http://oec.api.opsource.net/schemas/directory">
<!-- required, string, max 32 characters, valid characters A-Z, a-z, 0-9,
“.”, “-” and “_”. First character cannot be “-” -->
<userName>jpublic</userName>
<!-- required, string, min 8 chars, max 75 characters -->
<password>321321321</password>
<!-- required, string, max 75 characters -->
<fullName>Joe Public</fullName>
<!-- required, string, max 75 characters -->
<firstName>Joe</firstName>
<!-- required, string, max 75 characters -->
<lastName>Public</lastName>
<!-- required, string, max 75 characters -->
<emailAddress>jpublic24583@pop.net</emailAddress>
<!-- optional, string, max 255 characters -->
<department>Marketing</department>
<!-- optional, string, max 255 characters -->
<customDefined1>This field can be used for any purpose</customDefined1>
<!-- optional, string, max 255 characters -->
<customDefined2>This field can be used for any purpose</customDefined2>
<!-- required, string, must match the orgId on the request URL -->


<orgId>657e0d5c-61ca-48ed-a6a3-c50ba75ebced</orgId>
<!-- optional, none or "read only" creates a user with read only access-->
<!-- include any of the following to give the user the given role -->
<roles>
<role>
<!-- enables the user to create, manage & remove network resources -->
<name>network</name>
</role>
<role>
<!-- enables the user to create, manage & remove server resources -->
<name>server</name>
</role>
<role>
<!-- enables the user to create, manage & remove customer image -->
<name>create image</name>
</role>
<role>
<!-- enables the user to create, manage & remove Cloud Files accounts
-->
<name>storage</name>
</role>
<role>
<!-- enables the user to view Reports -->
<name>reports</name>
</role>
</roles>
</Account>

2.2.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Status>
<operation>Add Account</operation>
<result>SUCCESS</result>
<resultDetail>Account jpublic created</resultDetail>
<resultCode>REASON_0</resultCode>
</Status>

2.2.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Unexpected Error – Integration.

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_120

Username already exists (must be unique).

400 (Error)

REASON_121

Invalid Username (check allowed characters).

400 (Error)

REASON_122

Invalid Password.

400 (Error)

REASON_123

Invalid Roles (check rules above).

400 (Error)

REASON_320

<orgId> in request body does not match {org-id} on URL.



2.3. Update Administrator Account
2.3.1. Description
This function updates an existing Administrator Account.
Notes:
•

It is not possible to add or remove the Primary Administrator role with this function.

•

When authenticated with the Primary Administrator credentials, this function can be used to
update any property of the Primary Administrator or any Sub-Administrator with the exception of
userName, which is an immutable property.

•

When authenticated with Sub-Administrator credentials the userName supplied must match the
credentials used and only the password can be updated.

2.3.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/account/{userName}

Request Type

HTTP POST

Parameter Request Data (include only fields being changed with “&” separating each parameter)
password

Optional. Min 8 length characters. Max length 75
characters.

emailAddress

Optional. Max length 75 characters.

fullName

Optional. Max length 75 characters.

firstName

Optional. Max length 75 characters.

lastName

Optional. Max length 75 characters.

department

Optional. Max length 75 characters.

customDefined1

Optional. Max length 255 characters.

customDefined2

Optional. Max length 255 characters.

role

Optional. Multiple values are accepted; e.g.
"role=create image&role=server". Note that "primary
administrator" is not accepted. See "Add SubAdministrator Account" for full list of roles.

2.3.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Status>
<operation>Edit Account</operation>
<result>SUCCESS</result>
<resultDetail>Account {userName} updated</resultDetail>
<resultCode>REASON_0</resultCode>
</Status>

2.3.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Unexpected Error – Integration.

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_122

Invalid Password.

400 (Error)

REASON_123

Invalid Roles (check rules above).



2.4. Delete Sub-Administrator Account
2.4.1. Description
Deletes a Sub-Administrator Account belonging to the organization, identified by {username}.
An attempt to delete the Primary Administrator will result in an error being returned. Please see the
community for details on how to update a Sub-Administrator to be the Primary Administrator:
https://community.opsourcecloud.net/View.jsp?procId=20438e95d91752518a75b7ac81b390ab

2.4.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/account/{username}?delete

Request Type

HTTP GET

2.4.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Status>
<operation>Delete Account</operation>
<result>SUCCESS</result>
<resultDetail>Delete Account jpublic submitted</resultDetail>
<resultCode>REASON_0</resultCode>
</Status>

2.4.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Unexpected Error – Integration.

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_110

Could not find user account.

400 (Error)

REASON_130

Cannot delete Primary Administrator.



2.5. List Accounts
2.5.1. Description
Lists the Accounts belonging to the Organization identified by {org-id}. The list will include all SubAdministrator accounts and the Primary Administrator account. The Primary Administrator is unique and is
identified by the “primary administrator” role.

2.5.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/account

Request Type

HTTP GET

2.5.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Accounts xmlns="http://oec.api.opsource.net/schemas/directory" ... >
<Account>
<userName>subadminuser</userName>
<fullName>John Taylor</fullName>
<firstName>John</firstName>
<lastName>Taylor</lastName>
<emailAddress>mjtaylor@example.com</emailAddress>
<department>Sales</department>
<customDefined1></customDefined1>
<customDefined2></customDefined2>
<orgId>bv48bcb3-732c-4ey6-83d1-1chg659l46dbb</orgId>
<roles>
<role>
<name>create image</name>
</role>
<role>
<name>server</name>
</role>
</roles>
</Account>
<Account>
<userName>primaryadminuser</userName>
<fullName>Bob Taylor</fullName>
<firstName>Bob</firstName>
<lastName>Taylor</lastName>
<emailAddress>btaylor@example.com</emailAddress>
<department>IT</department>
<customDefined1></customDefined1>
<customDefined2></customDefined2>
<orgId>bv48bcb3-732c-4ey6-83d1-1chg659l46dbb</orgId>
<roles>
<role>
<name>create image</name>
</role>
<role>
<name>server</name>
</role>
<role>
<name>primary administrator</name>
</role>
<role>
<name>network</name>
</role>
<role>
<name>storage</name>
</role>
<role>
<name>reports</name>


</role>
</roles>
</Account>
</Accounts>

2.5.4. Fault Codes
HTTP Code Reason Code Description
400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_100 {org-id} invalid (does not match credentials).



2.6.

List Data Centers (With Parameters)

This API function deprecates List Data Centers with Limits. This API function provides paging and filtering
functionality. For details see Paging and Filtering for List API Functions.

2.6.1. Description
This function identifies the list of data centers available to the organization of the authenticating user and
deprecates the List Data Centers function. Users with appropriate roles can deploy networks, servers and
images in each available data center location.
Each data center within the list has various details including a unique identifier “location”, the appropriate
VPN URL corresponding to that location and the default data center for the organization is marked by the
boolean “default” attribute. Calling APIs that are not location aware, such as “Create Network”, will result in
the default location being used. In each relevant case, a location aware API is now available.
Each data center includes a <maxCpu> and <maxRamMb> elements defining the upper ceiling for the
number of CPUs and quantity of RAM permitted respectively for Customer Servers deployed at that data
center.
Each data center includes a list of <diskSpeed> elements describing the available storage speeds at the
data center. Each <diskSpeed> element comprises a <displayName>, <abbreviation> and <description> of
the disk speed, all of which are provided for informational purposes. The "id" attribute identifies the disk
speed for programmatic use. The default storage speed for the data center is indicated with the boolean
"default" attribute. The default storage speed is used when a new server is deployed, or additional storage
is added to a server. For further information about disk speeds please review the Community
documentation at:
https://community.opsourcecloud.net/View.jsp?procId=97314c7b7a6830019a28713ffbdae82e

2.6.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/datacenterWithDiskSpeed?
Paging/Ordering Optional Parameters:
&pageSize=
&pageNumber=
&orderBy=
Filter Optional Parameters:
&location=

Request Type

HTTP GET

Field Name and Filter Parameters
fieldName

Type

Description

Filter Parameter

orderBy
Parameter

location

String

Identifies a data center at which servers
and networks are located.

Yes

2.6.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<DatacentersWithDiskSpeedDetails
xmlns="http://oec.api.opsource.net/schemas/datacenter">
<datacenter default="true" location="NA1">
<displayName>US - East</displayName>
<city>Ashburn</city>
<state>Virginia</state>
<country>US</country>
<vpnUrl>https://vpnna1.opsourcecloud.net/na1</vpnUrl>
<maxCpu>8</maxCpu>
<maxRamMb>65536</maxRamMb>
<diskSpeed available="true" default="true" id="STANDARD">

24
s

<displayName>Standard</displayName>
<abbreviation>STD</abbreviation>
<description>Standard Disk Speed</description>
</diskSpeed>
</datacenter>
<datacenter>

:
</datacenter>
<datacenter>

:

</ datacenter>
</DatacentersWithDiskSpeedDetails>

2.6.4. Fault Codes
HTTP Code Reason Code Description
400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_100 {org-id} invalid (does not match credentials).



2.7. List Multi-Geography Data Centers With Key
2.7.1. Description
Returns a list of the Multi-Geography Data Centers available for the supplied {org-id}.
A <geo> element is returned for each available Multi-Geography Data Center.
The <isHome> element will be true for one <geo> element on the list. The home geography is the
geography at which the organization represented by {org-id} was initially set up. The value of <isHome>
will be false for every geography subsequently set up for the organization.
Note: this API deprecates the previous Multi-Geography Data Centers function by the addition of the
<geoKey> element.

2.7.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/multigeo

Request Type

HTTP GET

2.7.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Geos xmlns=http://oec.api.opsource.net/schemas/multigeo ... >
<geo>
<id>lk76kf30-2cb3-1791-5476-231567-09gt87</id>
<geoKey>northamerica</geoKey>
<name>North America</name>
<cloudUiUrl>https://admin.opsourcecloud.net</cloudUiUrl>
<cloudApiUrl>https://api.opsourcecloud.net/oec/0.9</cloudApiUrl>
<isHome>true</isHome>
<productKey>OBPK-PRD-7f5e343hg6-dahb-4fe8-835a-d5465gt01b</productKey>
<pricingUrl>http://www.opsource.net/pricing</pricingUrl>
<state>ENABLED</state>
</geo>
<geo>
<id>bf43kf30-2c83-11e1-9963-001517-45hj54</id>
<geoKey>europe</geoKey>
<name>Europe</name>
<cloudUiUrl>https://eu.opsourcecloud.net</cloudUiUrl>
<cloudApiUrl>https://euapi.opsourcecloud.net/oec/0.9</cloudApiUrl>
<isHome>false</isHome>
<productKey>OBPK-PRD-7f5eahg6-daeb-4ee8-835a-a1034fb0de</productKey>
<pricingUrl>http://www.opsource.net/pricing</pricingUrl>
<state>ENABLED</state>
</geo>
</Geos>

2.7.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_714

Multigeography access is not permitted for the supplied organization
{org-id}.



2.8.

List Software Labels

2.8.1. Description
This function returns the catalog of Priced Software preinstalled (individually or in combinations) on some
OS Server Images and Customer Images. For details on Priced Software please review the Community
documentation at:
https://community.opsourcecloud.net/View.jsp?procId=ef8001607cfb4c4e7669e5f34754f938

2.8.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/softwarelabel

Request Type

HTTP GET

2.8.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<SoftwareLabels xmlns="...server">
<softwareLabel id="MSSQLE2008">
(mandatory attribute, this is the PK in
the database, and a unique identifier for the label)
<displayName>MS Sql Server 2008</displayName> (mandatory element)
<description>Microsoft SQL Server 2008 Enterprise</description>
(mandatory element)
<pricedPer>CPU</pricedPer> (enum; SERVER or CPU, mandatory element)
<runningUnits>660</runningUnits> (mandatory element, int)
<stoppedUnits>660</stoppedUnits> (mandatory element, int)
</softwareLabel>
<softwareLabel id="SOFTWAREPACKAGEA">
...
</softwareLabel>
<SoftwareLabels>

2.8.4. Fault Codes
HTTP Code Reason Code Description
400 (Error)

REASON_100 {org-id} invalid (does not match credentials).



3. Server Image API
The Server Image API functions provide a set of operations for interacting with server images – including
APIs for retrieving default Operating System server images and APIs for retrieving or deleting customerspecific images created via the cloning process.

3.1. List OS Server Images
3.1.1. Description
Used for retrieving the default set of OS Server Images from which servers may be deployed.

3.1.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/base/image

Request Type

HTTP GET

3.1.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ServerImages xmlns:ns2="http://oec.api.opsource.net/schemas/organization".. >
<ServerImage>
<id>f084e5c0-87d6-4214-8803-18096c14d573</id>
<resourcePath>/oec/base/image/f084e5c0-87d6-4214-880318096c14d573</resourcePath>
<name>Win2008 Std 32-bit 2 CPU</name>
<description>Windows 2008 Standard SP2 32-bit/description>
<operatingSystem>
<type>WINDOWS</type>
<displayName>WIN2008S/32</displayName>
</operatingSystem>
<location></location>
<cpuCount>2</cpuCount>
<memory>4096</memory>
<osStorage>50</osStorage>
<additionalLocalStorage>0</additionalLocalStorage>
<created>2009-01-15T12:12:12.385Z</created>
</ServerImage>
<ServerImage>
:
</ServerImage>
<ServerImage>
:
</ServerImage>
</ServerImages>

3.1.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_110

Could not find user account.



3.2.

List OS Server Images with Software Labels in Location

This function lists the available OS Server Images at a particular Location. The response adds to the
deprecated List OS Server Images in Location function with the addition of zero to many, optional
<softwareLabel> elements, listing the Priced Software packages installed on the OS Server Image.

3.2.1. Request Details
URL

https://<Cloud API
URL>/oec/0.9/base/image/deployedWithSoftwareLabels/{location-id}

Request Type

HTTP GET

3.2.2. Response Details
<?xml version="1.0" encoding="UTF-8"?>
<DeployedImagesWithSoftwareLabels
xmlns=http://oec.api.opsource.net/schemas/server .. >
<DeployedImageWithSoftwareLabels>
<id>f084e5c0-87d6-4214-8803-18096c14d573</id>
<name>Microsoft Windows Server 2003</name>
<description>Windows Server 2003 (32-bit), 1 CPU, 2 GB RAM, 16 GB
Storage</description>
<machineSpecification>
<cpuCount>1</cpuCount>
<memoryMb>2048</memoryMb>
<osStorageGb>16</osStorageGb>
<additionalLocalStorageGb>0</additionalLocalStorageGb>
<operatingSystem>
<type>WINDOWS</type>
<displayName>WIN2003E/32</displayName>
</operatingSystem>
</machineSpecification>
<deployedTime>1970-01-15T15:08:19.891Z</deployedTime>
<location>LAB02_NA1</location>
<softwareLabel>MSSQLE2008</softwareLabel>
</DeployedImageWithSoftwareLabels>
<DeployedImageWithSoftwareLabels>
:
</DeployedImageWithSoftwareLabels>
<DeployedImageWithSoftwareLabels>
:
</DeployedImageWithSoftwareLabels>
</DeployedImagesWithSoftwareLabels>

3.2.3. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_770

Invalid location (see List Data Centers with Limits).



3.3. List Deployed Customer Images
3.3.1. Description
This function provides a list of all currently deployed Customer Images. It replaces the deprecated List
Customer Server Images function and includes two changes from that previous function:
•

Replaces the <ResourcePath> and <sourceResourcePath> elements of the existing call with
the <Id> and <sourceServerId> elements

•

Addis an optional <status> section that is populated if there is an ongoing operation affecting the
image, such as the image is being exported or deleted. Images in such a state cannot have other
actions performed against the image until the action is complete. The <action> element identifies
what is taking place, including the <requestTime> and what <username> requested it. The
optional <step> information will eventually provide progress information for exporting a Customer
Image, although that data is not currently being populated,

•

The <failureReason> element is populated if a previous action taken against the image (such as
delete image) failed and left the image in an unrecoverable state. This state would indicate that
the image is locked from further changes - you will need to contact Support to address the
problem.

3.3.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/image/deployed

Request Type

HTTP GET

3.3.3. Response Details (descriptive – includes all optional)
<DeployedImages>
<!--Zero or more repetitions:-->
<DeployedImage>
<id>string</id>
<name>string</name>
<!--Optional:-->
<description>string</description>
<machineSpecification>
<cpuCount>3</cpuCount>
<memoryMb>4096</memoryMb>
<osStorageGb>10</osStorageGb>
<additionalLocalStorageGb>10</additionalLocalStorageGb>
<operatingSystem>
<type>string</type>
<displayName>string</displayName>
</operatingSystem>
</machineSpecification>
<!--Optional:-->
<sourceServerId>string</sourceServerId>
<!--Optional:-->
<deployedTime>2008-09-29T02:49:45</deployedTime>
<!--Optional:-->
<location>NA1</location>
<!--Optional:-->
<status>
<action>string</action>
<requestTime>2014-09-19T00:18:33</requestTime>
<userName>string</userName>
<!--Optional:-->
<numberOfSteps>3</numberOfSteps>
<!--Optional:-->
<updateTime>2006-08-19T18:27:14+01:00</updateTime>
<!--Optional:-->
<step>
<name>string</name>
<number>3</number>
<!--Optional:-->
<percentComplete>3</percentComplete>


</step>
<!--Optional: (present only if the last operation failed and left
the image in a locked state) -->
<failureReason>text - e.g. Image export failed
because...</failureReason>
</status>
</DeployedImage>
</DeployedImages>

3.3.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).



3.4.

List Deployed Customer Images with Software Labels in Location

This function lists the available Customer Images at a particular Location for the provided org-id. The
response adds to the deprecated List Deployed Customer Images in Location function with the addition
of zero to many, optional <softwareLabel> elements, listing the Priced Software packages installed on the
Customer Image.

3.4.1. Request Details
URL

https://<Cloud API URL>/oec/0.9/{orgid}/image/deployedWithSoftwareLabels/{location-id}

Request Type

HTTP GET

3.4.2. Response Details (descriptive – includes all optional)
<DeployedImagesWithSoftwareLabels>
<!--Zero or more repetitions:-->
<DeployedImageWithSoftwareLabels>
<id>string</id>
<name>string</name>
<!--Optional:-->
<description>string</description>
<machineSpecification>
<cpuCount>3</cpuCount>
<memoryMb>4096</memoryMb>
<osStorageGb>10</osStorageGb>
<additionalLocalStorageGb>10</additionalLocalStorageGb>
<operatingSystem>
<type>string</type>
<displayName>string</displayName>
</operatingSystem>
</machineSpecification>
<!--Optional:-->
<sourceServerId>string</sourceServerId>
<!--Optional:-->
<deployedTime>2008-09-29T02:49:45</deployedTime>
<!--Optional:-->
<location>NA1</location>
<!--Optional:-->
<status>
<action>string</action>
<requestTime>2014-09-19T00:18:33</requestTime>
<userName>string</userName>
<!--Optional:-->
<numberOfSteps>3</numberOfSteps>
<!--Optional:-->
<updateTime>2006-08-19T18:27:14+01:00</updateTime>
<!--Optional:-->
<step>
<name>string</name>
<number>3</number>
<!--Optional:-->
<percentComplete>3</percentComplete>
</step>
<!--Optional: (present only if the last operation failed and left
the image in a locked state) -->
<failureReason>text - e.g. Image export failed
because...</failureReason>
</status>
<softwareLabel>MSSQLE2008</softwareLabel>
</DeployedImageWithSoftwareLabels>
</DeployedImagesWithSoftwareLabels>

3.4.3. Fault Codes
HTTP Code

Reason Code


Description

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_770

Invalid location (see List Data Centers with Limits).



3.5. List Pending Deployment Customer Images
3.5.1. Description
This function identifies images that are in the process of deployment (i.e. in the process of being cloned
from a server) and their status:
•

The <status> section provides information as to the status of the image. The <action> element
identifies a pending image, including the <requestTime> and what <username> requested it.
The optional <step> information provides progress information on each step in the deployment
(i.e. queue, clone) with the optional <step> and <number of Steps> elements identifying which
step the clone is in and how many steps need to be performed. <percentComplete> identifies
how far along the step is, when available. Since these updates occur periodically rather than in
real-time, the <updateTime> field identifies the time of the last update.

•

The <failureReason> element is populated only if the operation creating the image (clone/import)
failed and left the image in an unrecoverable state. This state would indicate that image creation
failed – depending on the reason, you may be able to try to create the image again. However, you
will need to contact Support to address the failed image.

•

Note the same status information will also be available for the parent server when using the List
Deployed Servers and List Deployed Servers on Network calls.

3.5.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/image/pendingDeploy

Request Type

HTTP GET

3.5.3. Response Details (descriptive – includes all optional)
<PendingDeployImages>
<!--Zero or more repetitions:-->
<PendingDeployImage>
<id>string</id>
<name>string</name>
<!--Optional:-->
<description>string</description>
<machineSpecification>
<cpuCount>3</cpuCount>
<memoryMb>3</memoryMb>
<osStorageGb>10</osStorageGb>
<additionalLocalStorageGb>10</additionalLocalStorageGb>
<operatingSystem>
<type>string</type>
<displayName>string</displayName>
</operatingSystem>
</machineSpecification>
<!--Optional:-->
<sourceServerId>string</sourceServerId>
<!--Optional:-->
<location>NA1</location>
<status>
<action>string</action>
<requestTime>2008-09-29T02:49:45</requestTime>
<userName>string</userName>
<!--Optional:-->
<numberOfSteps>3</numberOfSteps>
<!--Optional:-->
<updateTime>2014-09-19T00:18:33</updateTime>
<!--Optional:-->
<step>
<name>string</name>
<number>3</number>
<!--Optional:-->
<percentComplete>3</percentComplete>
</step>
<!--Optional: (present only if the clone server/import image failed


and left the image in a locked state) -->
<failureReason>text - e.g. Insufficient space on
datastore.</failureReason>
</status>
</PendingDeployImage>
</PendingDeployImages>

3.5.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).



3.6.

List Pending Deployment Customer Images in Location

Similar to List Pending Deployment Customer Images, this function identifies images that are in the
process of deployment. However this API limits the list of images to those being deployed at a particular
data center location.

3.6.1. Request Details
URL

https://<Cloud API URL>/oec/0.9/{orgid}/image/pendingDeploy/{location-id}

Request Type

HTTP GET

3.6.2. Response Details (descriptive – includes all optional)
<PendingDeployImages>
<!--Zero or more repetitions:-->
<PendingDeployImage>
<id>string</id>
<name>string</name>
<!--Optional:-->
<description>string</description>
<machineSpecification>
<cpuCount>3</cpuCount>
<memoryMb>3</memoryMb>
<osStorageGb>10</osStorageGb>
<additionalLocalStorageGb>10</additionalLocalStorageGb>
<operatingSystem>
<type>string</type>
<displayName>string</displayName>
</operatingSystem>
</machineSpecification>
<!--Optional:-->
<sourceServerId>string</sourceServerId>
<!--Optional:-->
<location>NA1</location>
<status>
<action>string</action>
<requestTime>2008-09-29T02:49:45</requestTime>
<userName>string</userName>
<!--Optional:-->
<numberOfSteps>3</numberOfSteps>
<!--Optional:-->
<updateTime>2014-09-19T00:18:33</updateTime>
<!--Optional:-->
<step>
<name>string</name>
<number>3</number>
<!--Optional:-->
<percentComplete>3</percentComplete>
</step>
<!--Optional: (present only if the clone server/import image failed
and left the image in a locked state) -->
<failureReason>text - e.g. Insufficient space on
datastore.</failureReason>
</status>
</PendingDeployImage>
</PendingDeployImages>

3.6.3. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_770

Invalid location (see List Data Centers with Limits).



3.7. Does Image Name Exist?
3.7.1. Description
Customer Image names are required to be unique within a single data center for your organization ID.
This function allows programmatic checking of whether or not a potential Customer Image name already
exists within the target data center location.

3.7.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/image/nameExists

Request Type

HTTP POST

Parameter Request Data
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ImageNameExists xmlns="http://oec.api.opsource.net/schemas/server">
<!-- string, datacenter id -->
<location>NA1</location>
<!-- string -->
<imageName>My New Customer Image</imageName>
</ImageNameExists>

3.7.3. Response Details
The response is a single <Exists> element containing either the string value “true”, if the Customer Image
name already exists at the target location for the supplied organization ID, or “false” if not.
If the response is “true” then a different Customer Image name will need to be supplied when subsequently
calling any functions that result in a new Customer Image being created at the same location, such as
Import Customer Image.
<!-- (boolean, mandatory, true or false) -->
<Exists xmlns="http://oec.api.opsource.net/schemas/general">true</Exists>

3.7.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).



3.8.

Get Server Image

3.8.1. Description
This function returns a full description of the Server Image identified by the supplied Server Image ID
({image-id}). The Server Image identified can be any OS Image, Cloud Software Image or Customer
Image.
The response is a single <ServerImageWithState> element including status information if there is an
operation in progress for the image, which means this function can be used to track progress of an
operation on a specific image.

3.8.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/image/{image-id}

Request Type

HTTP GET

3.8.3. Response Details (descriptive – includes all optional)
<ServerImageWithState> is common to Get Server Image, List Customer Image Imports in Progress and
Customer Image Import.
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ServerImageWithState>
<!-- string, unique image id -->
<id>c325fe04-7711-4968-962e-c88784eb2xyz</id>
<!-- string, data center id -->
<location>NA1</location>
<!-- string -->
<name>My New Customer Image</name>
<!-- string, optional -->
<description>Image for producing web servers.</description>
<operatingSystem>
<!-- string -->
<type>WINDOWS</type>
<!-- string -->
<displayName>WIN2008E/64</displayName>
</operatingSystem>
<!-- int -->
<cpuCount>2</cpuCount>
<!-- int -->
<memoryMb>4096</memoryMb>
<!-- int -->
<osStorageGb>50</osStorageGb>
<!-- 0-to-many -->
<additionalDisk>
<!-- string, unique disk id -->
<id>ef49974c-87d0-400f-aa32-ee43559fdb1b</id>
<!-- string -->
<scsiId>1</scsiId>
<!-- int -->
<diskSizeGb>40</diskSizeGb>
<!-- string -->
<state>NORMAL</state>
</additionalDisk>
<!-- 0-to-many, string -->
<softwareLabel>MSSQL2008R2E</softwareLabel>
<!-- optional -->
<source type="IMPORT">
<!-- 0-to-many, type and value required, date optional -->
<artifact type="MF" value="MyCustomerImage.mf" date="2008-0929T02:49:45"/>
<artifact type="OVF" value="MyCustomerImage.ovf" date="2008-0929T02:49:45"/>
<artifact type="VMDK" value="MyCustomerImage-disk1.vmdk" date="200809-29T02:49:45"/>


<artifact type="VMDK" value="MyCustomerImage-disk2.vmdk" date="200809-29T02:49:45"/>
</source>
<!-- string; e.g. ‘NORMAL”, “FAILED_ADD”, “PENDING_CHANGE” -->
<state>FAILED_ADD</state>
<!-- optional timestamp, only present if Image is deployed -->
<deployedTime>2012-05-25T12:59:10.110Z</deployedTime>
<!-- optional same meaning as for Server, cannot be guaranteed for Images
and is considered purely informational -->
<machineStatus name="vmwareToolsApiVersion">
<value>8295</value>
</machineStatus>
<!-- optional, as above -->
<machineStatus name="vmwareToolsVersionStatus">
<value>CURRENT</value>
</machineStatus>
<!-- optional, as above -->
<machineStatus name="vmwareToolsRunningStatus">
<value>RUNNING</value>
</machineStatus>
<!-- optional -->
<status>
<!-- string -->
<action>IMAGE_IMPORT</action>
<!-- timestamp -->
<requestTime>2012-05-25T23:10:36.000Z</requestTime>
<!-- string -->
<userName>theUser</userName>
<!-- optional, int -->
<numberOfSteps>3</numberOfSteps>
<!-- optional, timestamp -->
<updateTime>2012-05-25T23:11:32.000Z</updateTime>
<!-- 0-to-many -->
<step>
<!-- string -->
<name>WAIT_FOR_OPERATION</name>
<!-- int -->
<number>3</number>
<!-- optional int -->
<percentComplete>50</percentComplete>
</step>
<!-- optional string, only present if operation has failed -->
<failureReason>Operation timed out.</failureReason>
</status>
</ServerImageWithState>

3.8.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_390

Could not find image for ID for {org-id}.



3.9.

Delete Customer Server Image

3.9.1. Description
Used for deleting a Server Image created by a customer. This API requires your organization ID and the ID
of the image to be deleted.

3.9.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/image/{image-id}?delete

Request Type

HTTP GET

3.9.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns6:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization".. >
<ns6:operation>Delete Server Image</ns6:operation>
<ns6:result>SUCCESS</ns6:result>
<ns6:resultDetail>Server image deleted</ns6:resultDetail>
<ns6:resultCode>REASON_0</ns6:resultCode>
</ns6:Status>

3.9.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_390

Could not locate Server Image for {org-id}.

400 (Error)

REASON_601

Operation in progress.



3.10. Modify Customer Server Image
3.10.1. Description
Changes the Description of an existing deployed Customer Image. Requires your organization ID and the
ID of the target image. Note that the Name of the Image cannot be changed once deployed.

3.10.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/image/{image-id}

Request Type

HTTP POST

Parameter Request Data (include only fields being changed with & separating each parameter)
description=

Description of the image (max. 255 char)

3.10.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns11:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns11:operation>Edit Server Image k</ns6:operation>
<ns11:result>SUCCESS</ns6:result>
<ns11:resultDetail>Server Image edited</ns6:resultDetail>
<ns11:resultCode>REASON_0</ns6:resultCode>
</ns11:Status>

3.10.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_320

Invalid input data. Check supplied value for description.

400 (Error)

REASON_390

Could not find image for ID for {org-id}.

400 (Error)

REASON_601

{image-id} has another operation in progress and cannot modified
until that operation is complete.



3.11. Clean Failed Customer Image
3.11.1. Description
Removes a failed Customer Image from any List Customer Images list. Requires your organization ID and
the ID of the target image.
If the attempt to remove the failed server with the Clean Failed Customer Image function fails, you will
need to contact Support to remove the image from the list.

3.11.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/image/{image-id}?clean

Request Type

HTTP GET

3.11.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization".. >
<operation>Clean Failed Image</operation>
<result>SUCCESS</result>
<resultDetail>Successfully submitted clean failed image request for image
id: {image-id}</resultDetail>
<resultCode>REASON_0</resultCode>
</Status>

3.11.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_40

Invalid State Transition. Returned if an attempt is made to call this
function for an image which is not in a failed state.

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_390

Could not find image for {image-id} for {org-id}.

400 (Error)

REASON_601

{image-id} has another operation in progress and cannot be
removed.



4. Import & Export Customer Image API
Provides a set of operations to enable an organization to programmatically import OVF Packages as new
Customer Images and to export existing Customer Images as new OVF Packages.
See <community link to FTPS folder article>, for details on how to access your staging folder for OVF
Packages.

4.1. List OVF Packages
4.1.1. Description
The List OVF Packages function returns the OVF Packages that have been uploaded to the FTPS account
for the supplied organization ID. An empty list will be returned if no OVF Packages have been uploaded by
the organization.
An OVF Package is defined as the set of files constituting a single Customer Image to Import. An OVF
Package includes:
•

One “.mf” manifest file.

•

One “.ovf” definition file.

•

At least one “.vmdk” disk file. The mandatory disk represents the operating system boot disk.
Each subsequent VMDK is a disk of additional storage.

The list of entries returned is determined only by the package manifest (“.mf”) files on the FTPS account.
This function does not take into account any validation of the OVF and VMDK referenced within each
manifest. However, the “.mf” in each case is expected to define a full OVF Package when used as an input
to the Import Customer Image function.
For details of OVF Package guidelines and how to access the FTPS account for your organization, please
see the Community at:
https://community.opsourcecloud.net/View.jsp?procId=2f3d8cf2337ce520f376a3c4889e2bdd

4.1.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/ovfPackage

Request Type

HTTP GET

4.1.3. Response Details
The response is a list of <ovfPackage> elements with the following mandatory attributes:
•

name: full name of the manifest file.

•

timestamp: creation timestamp of the file.

•

expiry: timestamp for when all the files within the OVF Package will be deleted by the system.

•

status: “VALID” or “EXPIRED”. An “EXPIRED” package has reached its expiry date but has not
been deleted by the system yet. It cannot be imported and a REASON_432 error response is
returned if an import is attempted. A “VALID” package can be imported. This range of values
should not be considered static and may increase over time.

<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<OvfPackages xmlns="http://oec.api.opsource.net/schemas/server">
<ovfPackage name="MyCustomerImage.mf" timestamp="2012-05-11T12:30:01.000Z"
expiry="2012-05-25T12:30:01.000Z" status="VALID"/>
</OvfPackages>

4.1.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Unexpected Error - Integration.

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).



400 (Error)

REASON_750


Organization has insufficient trust level.


4.2. Import Customer Image
4.2.1. Description
Starts the process of importing an OVF Package to become a new Customer Image for the supplied
organization ID.
This function takes the full name (including the “.mf” file suffix) of the manifest file identifying the OVF
Package to import as a new Customer Image.

4.2.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/imageImport

Request Type

HTTP POST

Request
<NewImageImport xmlns="http://oec.api.opsource.net/schemas/server">
<ovfPackage>MyCustomerImage.mf</ovfPackage>
<location>NA1</location>
<name>My New Customer Image</name>
<description>Image for producing web servers.</description>
</NewImageImport>
ovfPackage

Required; references a manifest identifying an OVF Package on the organization’s FTPS
account. Maximum length 75 characters. The permitted character set is (within and
excluding the quotes): “a-zA-Z0-9_+=#.,:;()-“. Note that the “space” character is not
permitted.

location

Required; identifies the target data center location for the Customer Image. The target
data center must reside within the same Geographic Region.

name

Required; 1-75 characters in length. The permitted character set is (within and excluding
the quotes): “a-zA-Z0-9_+=# .,:;()-“. Note that the “space” character is permitted.

description

Optional; 0-255 characters in length.

4.2.3. Response Details (descriptive – includes all optional)
A positive (HTTP 200) response indicates that initial validation has been passed and the Customer Image
Import will proceed. A single <ServerImageWithState> element is returned, in common with Get Server
Image and List Customer Image Imports in Progress.
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ServerImageWithState>
<!-- string, unique image id -->
<id>c325fe04-7711-4968-962e-c88784eb2xyz</id>
<!-- string, data center id -->
<location>NA1</location>
<!-- string -->
<name>My New Customer Image</name>
<!-- string -->
<description>Image for producing web servers.</description>
<operatingSystem>
<!-- string -->
<type>WINDOWS</type>
<!-- string -->
<displayName>WIN2008E/64</displayName>
</operatingSystem>
<!-- int -->
<cpuCount>2</cpuCount>
<!-- int -->
<memoryMb>4096</memoryMb>
<!-- int -->
<osStorageGb>50</osStorageGb>


<!-- 0-to-many -->
<additionalDisk>
<!-- string, unique disk id -->
<id>ef49974c-87d0-400f-aa32-ee43559fdb1b</id>
<!-- string -->
<scsiId>1</scsiId>
<!-- int -->
<diskSizeGb>40</diskSizeGb>
<!-- string -->
<state>NORMAL</state>
</additionalDisk>
<!-- 0-to-many, string -->
<softwareLabel>MSSQL2008R2E</softwareLabel>
<!-- optional -->
<source type="IMPORT">
<!-- 0-to-many, type and value required, date optional -->
<artifact type="MF" value="MyCustomerImage.mf" date="2008-0929T02:49:45"/>
<artifact type="OVF" value="MyCustomerImage.ovf" date="2008-0929T02:49:45"/>
<artifact type="VMDK" value="MyCustomerImage-disk1.vmdk" date="200809-29T02:49:45"/>
<artifact type="VMDK" value="MyCustomerImage-disk2.vmdk" date="200809-29T02:49:45"/>
</source>
<!-- string -->
<state>NORMAL</state>
<!-- optional timestamp, only present if Image is deployed -->
<deployedTime>2012-05-25T12:59:10.110Z</deployedTime>
<!-- optional same meaning as for Server, cannot be guaranteed for Images
and is considered purely informational -->
<machineStatus name="vmwareToolsApiVersion">
<value>8295</value>
</machineStatus>
<!-- optional, as above -->
<machineStatus name="vmwareToolsVersionStatus">
<value>CURRENT</value>
</machineStatus>
<!-- optional, as above -->
<machineStatus name="vmwareToolsRunningStatus">
<value>RUNNING</value>
</machineStatus>
<!-- optional, as above -->
<status>
<!-- string -->
<action>IMAGE_IMPORT</action>
<!-- timestamp -->
<requestTime>2012-05-25T23:10:36.000Z</requestTime>
<!-- string -->
<userName>theUser</userName>
<!-- optional, int -->
<numberOfSteps>3</numberOfSteps>
<!-- optional, timestamp -->
<updateTime>2012-05-25T23:11:32.000Z</updateTime>
<!-- 0-to-many -->
<step>
<!-- string -->
<name>WAIT_FOR_OPERATION</name>
<!-- int -->
<number>3</number>
<!-- optional int -->
<percentComplete>50</percentComplete>
</step>
<!-- optional string, only present if operation has failed -->
<failureReason>Operation timed out.</failureReason>
</status>
</ServerImageWithState>



4.2.4. Fault Codes
Most fault codes indicate a specific error as described in the table below. However, three specific response
codes (REASON_432, REASON_441, and REASON_442) can include multiple error messages related to
the import attempt, each of which is described by an <additionalInformation> element. The “name”
attribute of each <additionalInformation> element describes the content of its single <value> child
element.
Notes:
•

Particularly relevant to REASON_441; see the community for details of OVF requirements:
https://community.opsourcecloud.net/View.jsp?procId=afd079cdeda379c8e2dfb1d392d67d01

•

The set of codes that include <additionalInformation> elements should not be considered static.
The set can increase at any time.

<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Status>
<operation>Image Import</operation>
<result>ERROR</result>
<resultDetail>OVF Package content is invalid</resultDetail>
<resultCode>RESULT_441</resultCode>
<additionalInformation name="error.imageImport.networkCount">
<value>Only one network element is supported.</value>
</additionalInformation>
<additionalInformation name="error.imageImport.cpuCount">
<value>Number of CPUs is invalid - must be between 1 and 8</value>
</additionalInformation>
</Status>
HTTP Code

Reason Code

Description

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_320

Mandatory field not supplied or missing value.

400 (Error)

REASON_320

{name} has invalid value and/or {description} has invalid value.

400 (Error)

REASON_391

{name} must be unique within the supplied data center ({location})
for {org-id}.

400 (Error)

REASON_430

Maximum number of allowed simultaneous Customer Image Imports
in Progress has already been reached for {org-id}.

400 (Error)

REASON_431

The manifest file {ovfPackage} does not exist on the FTPS account
for {org-id}.

400 (Error)

REASON_432

The manifest file {ovfPackage}, and/or its related OVF file, and/or its
related *VMDK file(s) is beyond its expiration date and is due for
deletion.

400 (Error)

REASON_433

The manifest file {ovfPackage} is too large to be accepted.

400 (Error)

REASON_434

The manifest file {ovfPackage} cannot be read.

400 (Error)

REASON_435

The manifest file {ovfPackage} is invalid. The manifest must
reference a single OVF file and a minimum of one and maximum of
thirteen VMDK files.

400 (Error)

REASON_436

The manifest file {ovfPackage} references an OVF file that does not
exist on the FTPS account.

400 (Error)

REASON_437

The manifest file {ovfPackage} references an OVF file that is too
large to be accepted.

400 (Error)

REASON_438

The manifest file {ovfPackage} references an OVF file that cannot be
read.

400 (Error)

REASON_439

The manifest file {ovfPackage} contains a hash that does not match
the hash for its referenced OVF file.

400 (Error)

REASON_440

The manifest file {ovfPackage} references an OVF file that cannot be
parsed as XML.

400 (Error)

REASON_441

The manifest file {ovfPackage} references an OVF file that does not
conform to the required criteria.

400 (Error)

REASON_442

The manifest file {ovfPackage} references one of more VMDK files



that cannot be found.
400 (Error)

REASON_443

VMDK {vmdk} in {ovfPackage} is too large to be imported.

400 (Error)

REASON_444

The manifest file {ovfPackage} references a VMDK {vmdk} file that
cannot be read.

400 (Error)

REASON_750

Organization has insufficient trust level.

400 (Error)

REASON_770

Supplied data center ({location}) is invalid or is not enabled for {orgid}.



4.3.

List Customer Image Imports in Progress

4.3.1. Description
This function identifies the Customer Image Imports that are in progress for the supplied organization ID.

4.3.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/imageImport

Request Type

HTTP GET

4.3.3. Response Details (descriptive – includes all optional)
The response is a single <ServerImagesWithState> element containing a <serverImageWithState>
element for each Customer Image Import in progress.
The <serverImageWithState> element has the same structure as that used in response to a Customer
Image Import POST request and a Get Server Image GET request.
Note: The number of simultaneous image imports permitted is reflected by the maximum amount of
<serverImageWithState> elements that can be returned by this function at any time. I.e. if the maximum
amount of Customer Image Imports permitted simultaneously is 2; then the maximum amount of
<serverImageWithState> elements that can be returned by this function at any time is also 2.
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ServerImagesWithState>
<serverImageWithState>
<!-- string, unique image id -->
<id>c325fe04-7711-4968-962e-c88784eb2xyz</id>
<!-- string, data center id -->
<location>NA1</location>
<!-- string -->
<name>My New Customer Image</name>
<!-- string -->
<description>Image for producing web servers.</description>
<operatingSystem>
<!-- string -->
<type>WINDOWS</type>
<!-- string -->
<displayName>WIN2008E/64</displayName>
</operatingSystem>
<!-- int -->
<cpuCount>2</cpuCount>
<!-- int -->
<memoryMb>4096</memoryMb>
<!-- int -->
<osStorageGb>50</osStorageGb>
<!-- 0-to-many -->
<additionalDisk>
<!-- string, unique disk id -->
<id>ef49974c-87d0-400f-aa32-ee43559fdb1b</id>
<!-- string -->
<scsiId>1</scsiId>
<!-- int -->
<diskSizeGb>40</diskSizeGb>
<!-- string -->
<state>NORMAL</state>
</additionalDisk>
<!-- 0-to-many, string -->
<softwareLabel>MSSQL2008R2E</softwareLabel>
<!-- optional -->
<source type="IMPORT">
<!-- 0-to-many, type and value required, date optional -->
<artifact type="MF" value="MyCustomerImage.mf" date="2008-0929T02:49:45"/>
<artifact type="OVF" value="MyCustomerImage.ovf" date="2008-0929T02:49:45"/>


<artifact type="VMDK" value="MyCustomerImage-disk1.vmdk"
date="2008-09-29T02:49:45"/>
<artifact type="VMDK" value="MyCustomerImage-disk2.vmdk"
date="2008-09-29T02:49:45"/>
</source>
<!-- string -->
<state>NORMAL</state>
<!-- optional timestamp, only present if Image is deployed -->
<deployedTime>2012-05-25T12:59:10.110Z</deployedTime>
<!-- optional same meaning as for Server, cannot be guaranteed for
Images and is considered purely informational -->
<machineStatus name="vmwareToolsApiVersion">
<value>8295</value>
</machineStatus>
<!-- optional, as above -->
<machineStatus name="vmwareToolsVersionStatus">
<value>CURRENT</value>
</machineStatus>
<!-- optional, as above -->
<machineStatus name="vmwareToolsRunningStatus">
<value>RUNNING</value>
</machineStatus>
<!-- optional, as above -->
<status>
<!-- string -->
<action>IMAGE_IMPORT</action>
<!-- timestamp -->
<requestTime>2012-05-25T23:10:36.000Z</requestTime>
<!-- string -->
<userName>theUser</userName>
<!-- optional, int -->
<numberOfSteps>3</numberOfSteps>
<!-- optional, timestamp -->
<updateTime>2012-05-25T23:11:32.000Z</updateTime>
<!-- 0-to-many -->
<step>
<!-- string -->
<name>WAIT_FOR_OPERATION</name>
<!-- int -->
<number>3</number>
<!-- optional int -->
<percentComplete>50</percentComplete>
</step>
<!-- optional string, only present if operation has failed -->
<failureReason>Operation timed out.</failureReason>
</status>
</serverImageWithState>
<serverImageWithState>
...
</serverImageWithState>
<serverImageWithState>
...
</serverImageWithState>
</ServerImagesWithState>

4.3.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).



4.4. Export Customer Image
4.4.1. Description
Starts the process of exporting a Customer Image for the supplied organization ID to an OVF Package on
the organization’s FTPS account.
This function takes the ID of the Customer Image to be exported and a prefix which is used to name each
file within the resulting OVF Package.

4.4.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/imageExport

Request Type

HTTP POST

Request
<NewImageExport xmlns="http://oec.api.opsource.net/schemas/server">
<!-- string, image id -->
<imageId>a28cab07-1234-4024-b894-2a1cea39bd61</imageId>
<!-- string, 1-90 characters in length -->
<ovfPackagePrefix>MyCustomerImageExport</ovfPackagePrefix>
</NewImageExport>
imageId

Required; Identifies the Customer Image to be exported.

ovfPackagePrefix

Required; 1-90 characters in length. Used to name each of the constituent files of the
resulting OVF Package. The permitted character set is (within and excluding the
quotes): “a-zA-Z0-9_+=#.,:;()-“. Note that the “space” character is not permitted.

4.4.3. Response Details (descriptive – includes all optional)
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!-- id; string. ovfPackagePrefix; string. startDate; dateTime -->
<ImageExport id="43df-34trgh-54fr-v55f-65tgh768uf3-cd45"
ovfPackagePrefix="MyCustomerImageExport"
startDate="2012-02-15T23:10:36.000Z">
<!--id string, image id -->
<image id="e8ebc3cb-cced-4d63-865b-c514e19d6502">
<!-- string, image name -->
<name>my-image-name</name>
<!--optional, string, image description -->
<description>image description</description>
<!-- string, data center id -->
<location>NA1</location>
<!-- string, OS display name -->
<operatingSystem>REDHAT5/64</operatingSystem>
<!-- int -->
<cpuCount>1</cpuCount>
<!-- int -->
<memoryMb>4096</memoryMb>
<!-- int -->
<osStorageGb>10</osStorageGb>
<!-- 0-to-many; scsiId; int. sizeGb; int -->
<additionalDisk scsiId="1" sizeGb="52"/>
<additionalDisk scsiId="4" sizeGb="200"/>
</image>
<status>
<!-- string -->
<action>IMAGE_EXPORT</action>
<!-- timestamp -->
<requestTime>2012-02-15T23:10:36.000Z</requestTime>
<!-- string -->
<userName>me</userName>
<!-- optional, int -->
<numberOfSteps>3</numberOfSteps>


<!-- optional, timestamp -->
<updateTime>2012-02-15T23:11:32.000Z</updateTime>
<!-- 0-to-many -->
<step>
<!-- string -->
<name>VMWARE_TASK_IN_OPERATION</name>
<!-- int -->
<number>3</number>
<!-- optional, int -->
<percentComplete>50</percentComplete>
</step>
</status>
</ImageExport>

4.4.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_320

A required field is missing or does not contain a value.

400 (Error)

REASON_320

{ovfPackagePrefix} is invalid.

400 (Error)

REASON_390

Could not find image for ID for {org-id}.

400 (Error)

REASON_460

{ovfPackagePrefix} is likely to cause a file name conflict with an
existing file or another export in progress.

400 (Error)

REASON_601

{image-id} has another operation in progress and cannot be exported
until that operation is complete.

400 (Error)

REASON_750

Organization has insufficient trust level.



4.5. List Customer Image Exports in Progress
4.5.1. Description
This function identifies the Customer Image Exports that are in progress for the supplied organization ID.

4.5.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/imageExport

Request Type

HTTP GET

4.5.3. Response Details (descriptive – includes all optional)
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ImageExports>
<!-- id; string. ovfPackagePrefix; string. startDate; dateTime -->
<ImageExport id="43df-34trgh-54fr-v55f-65tgh768uf3-cd45"
ovfPackagePrefix="MyCustomerImageExport"
startDate="2012-02-15T23:10:36.000Z">
<!--id string, image id -->
<image id="e8ebc3cb-cced-4d63-865b-c514e19d6502">
<!-- string, image name -->
<name>my-image-name</name>
<!--optional, string, image description -->
<description>image description</description>
<!-- string, data center id -->
<location>NA1</location>
<!-- string, OS display name -->
<operatingSystem>REDHAT5/64</operatingSystem>
<!-- int -->
<cpuCount>1</cpuCount>
<!-- int -->
<memoryMb>4096</memoryMb>
<!-- int -->
<osStorageGb>10</osStorageGb>
<!-- 0-to-many; scsiId; int. sizeGb; int -->
<additionalDisk scsiId="1" sizeGb="52"/>
<additionalDisk scsiId="4" sizeGb="200"/>
</image>
<status>
<!-- string -->
<action>IMAGE_EXPORT</action>
<!-- timestamp -->
<requestTime>2012-02-15T23:10:36.000Z</requestTime>
<!-- string -->
<userName>me</userName>
<!-- optional, int -->
<numberOfSteps>3</numberOfSteps>
<!-- optional, timestamp -->
<updateTime>2012-02-15T23:11:32.000Z</updateTime>
<!-- 0-to-many -->
<step>
<!-- string -->
<name>VMWARE_TASK_IN_OPERATION</name>
<!-- int -->
<number>3</number>
<!-- optional, int -->
<percentComplete>50</percentComplete>
</step>
</status>
</ImageExport>
<ImageExport>
...
</ImageExport>
</ImageExports>



4.5.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).



4.6. List Customer Image Export History
4.6.1. Description
This function will return a list describing the Customer Image Export History of the supplied organization
ID.

4.6.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/imageExportHistory?count=n

Request
Type

HTTP GET

Parameter Request Data
count=n

Optional; “n” is an integer with a default (and maximum) value of 100.

4.6.3. Response Details
The response is a list of <ImageExportRecord> items in order of most recent first. The number of records
returned can be limited with the “count” parameter.
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ImageExportHistory>
<!-- id; string. ovfPackagePrefix; string. startDate; dateTime -->
<imageExportRecord
id="e8ebc3cb-cced-4d63-865b-abdcdefg44"
ovfPackagePrefix="export-my-customer-image"
startDate="2012-04-30 10:26:04">
<!-- string, user that initiated the export -->
<userName>jsmith</userName>
<!--string, image id -->
<image id="e8ebc3cb-cced-4d63-865b-c514e19d6502">
<!-- string, image name -->
<name>My Customer Image</name>
<!-- string, optional, image description -->
<description>Web server image template</description>
<!-- string, image datacenter id -->
<location>NA1</location>
<!-- string, OS display name -->
<operatingSystem>REDHAT5/64</operatingSystem>
<!-- int -->
<cpuCount>1</cpuCount>
<!-- int -->
<memoryMb>4096</memoryMb>
<!-- int -->
<osStorageGb>10</osStorageGb>
<!-- 0-to-many; scsiId; int. sizeGb; int -->
<additionalDisk scsiId="1" sizeGb="52"/>
<additionalDisk scsiId="4" sizeGb="200"/>
</image>
<!-- dateTime -->
<endDate>2012-04-30 12:06:43</endDate>
<!-- string, "ERROR" or "SUCCESS" -->
<result>SUCCESS</result>
<!-- string -->
<resultDetail>Image export successful</resultDetail>
<!-- string -->
<resultCode>OK</resultCode>
<!-- 0-to-many; error case will have 0, success case will have at
least 3 -->
<outputFile type="MF" name="MyCustomerImage.mf" date="2012-04-30
12:00:34" expiryDate="2012-05-14 12:00:34" sizeBytes="123"/>
<outputFile type="OVF" name="MyCustomerImage.ovf" date="2012-04-30
12:00:34" expiryDate="2012-05-14 12:00:34" sizeBytes="30123"/>
<outputFile type="VMDK" name="MyCustomerImage-disk1.vmdk" date="201


04-30 12:04:22" expiryDate="2012-05-14 12:04:22" sizeBytes="1514523"/>
<outputFile type="VMDK" name="MyCustomerImage-disk2.vmdk" date="201204-30 12:06:12" expiryDate="2012-05-14 12:06:12" sizeBytes="2543373"/>
</imageExportRecord>
</ImageExportHistory>

4.6.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).



4.7. Copy Customer Image to Data Center
4.7.1. Description
Starts the process of copying a Customer Image to another data center in the same geographic region for
the supplied organization.
This function takes the sourceImageId of the Customer Image to be copied, the target Customer Image
name, an optional description, the target data center where the new image is to be created and an optional
ovfPackagePrefix.
If an ovfPackagePrefix is provided, the system will place an OVF Package of the copied image in the
organization’s FTPS account folder. The OVF Package will not appear until the copying process is
complete.

4.7.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/copyCustomerImage

Request Type

HTTP POST

Request
<NewImageCopy xmlns="http://oec.api.opsource.net/schemas/server">
<!-- Required, String, UUID of image to be copied -->
<sourceImageId>5a18d6f0-eaca-11e1-8340-d93da27669ab </sourceImageId>
<!-- Required, String, max 1-75 characters -->
<targetImageName>My New Customer Image</targetImageName>
<!-- Optional, String, max 1-255 characters -->
<targetImageDescription>To be used as the template for all production web
servers.</targetImageDescription>
<!-- Required, String, UUID of destination data center-->
<targetLocation>NA3</targetLocation>
<!-- Optional, String, 1-90 characters -->
<ovfPackagePrefix>basicLampImage</ovfPackagePrefix>
</NewImageCopy>
sourceImageId

Required; UUID of the Customer Image to be copied.

targetImageName

Required; 1-75 characters, for display purposes. Permitted characters are
(within and excluding the quotes): “a-zA-Z0-9_+=# .,:;()-“. Note that the “space”
character is permitted.

targetImageDescripiton

Optional; 1-255 characters, for descriptive information.

targetLocation

Required; the ID of the data center where the new image will be created.

ovfPackagePrefix

Required; 1-90 characters in length. Used to name each of the constituent files
of the resulting OVF Package. The permitted character set is (within and
excluding the quotes): “a-zA-Z0-9_+=#.,:;()-“. Note that the “space” character is
not permitted.

4.7.3. Response Details (descriptive – includes all optional)
<ImageCopy imageCopyId="5272e328-eaca-11e1-8340-d93da27669ab"
sourceLocation="NA3"
sourceImageId="5a18d6f0-eaca-11e1-8340-d93da27669ab"
sourceImageName="BASIC LAMP Image"
ovfPackagePrefix="basicLampImage"
xmlns="http://oec.api.opsource.net/schemas/server">
<targetImage>
<!-- string, unique image id -->
<id>c325fe04-7711-4968-962e-c88784eb2xyz</id>
<!-- string, data center id -->
<location>NA1</location>
<!-- string -->
<name>My New Customer Image</name>
<!-- string, optional -->
<description>Image for producing web servers.</description>


<operatingSystem>
<!-- string -->
<type>LINUX</type>
<!-- string -->
<displayName>REDHATES5/64</displayName>
</operatingSystem>
<!-- int -->
<cpuCount>2</cpuCount>
<!-- int -->
<memoryMb>4096</memoryMb>
<!-- int -->
<osStorageGb>50</osStorageGb>
<!-- 0-to-many -->
<additionalDisk>
<!-- string, unique disk id -->
<id>ef49974c-87d0-400f-aa32-ee43559fdb1b</id>
<!-- string -->
<scsiId>1</scsiId>
<!-- int -->
<diskSizeGb>40</diskSizeGb>
<!-- string -->
<state>NORMAL</state>
</additionalDisk>
<!-- 0-to-many, string -->
<softwareLabel>REDHAT5ES64</softwareLabel>
<!-- optional -->
<source type="COPY">
<!-- 0-to-many, type and value required, date optional -->
<artifact type="SERVER_IMAGE_ID" value="xb632974c-87d0-400f-aa32hb43559flk765" date="2008-09-29T02:49:45"/>
</source>
<!-- string; e.g. ‘NORMAL”, “FAILED_ADD”, “PENDING_CHANGE” -->
<state>PENDING_CHANGE</state>
<!-- optional timestamp, only present if Image is deployed -->
<deployedTime>2012-05-25T12:59:10.110Z</deployedTime>
<!-- optional same meaning as for Server, cannot be guaranteed for
Images and is considered purely informational -->
<machineStatus name="vmwareToolsApiVersion">
<value>8295</value>
</machineStatus>
<!-- optional, as above -->
<machineStatus name="vmwareToolsVersionStatus">
<value>CURRENT</value>
</machineStatus>
<!-- optional, as above -->
<machineStatus name="vmwareToolsRunningStatus">
<value>NOT_RUNNING</value>
</machineStatus>
<!-- optional, only present when an operation is in progress -->
<status>
<!-- string -->
<action>COPY_CUSTOMER_IMAGE</action>
<!-- timestamp -->
<requestTime>2012-05-25T23:10:36.000Z</requestTime>
<!-- string -->
<userName>theUser</userName>
<!-- optional, int -->
<numberOfSteps>3</numberOfSteps>
<!-- optional, timestamp -->
<updateTime>2012-05-25T23:11:32.000Z</updateTime>
<!-- 0-to-many -->
<step>
<!-- string -->
<name>WAIT_FOR_OPERATION</name>
<!-- int -->
<number>3</number>
<!-- optional int -->
<percentComplete>50</percentComplete>
</step>


<!-- optional string, only present if operation has failed -->
<failureReason>Operation timed out.</failureReason>
</status>
</targetImage>
</ImageCopy>

4.7.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_11

Potentially Recoverable Failure. The call can be retried - contact
support if the failure persists more than a couple of times.

400 (Error)

REASON_12

Insufficient data storage available to copy {sourceImageId}.

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_320

A required field is missing or does not contain a value.

400 (Error)

REASON_320

A required field contains an invalid value.

400 (Error)

REASON_390

Could not find image {sourceImageId} for organization {org-id}.

400 (Error)

REASON_391

{targetImageName} must be unique for organization {org-id} and
{targetLocation}.

400 (Error)

REASON_430

Maximum number of allowed simultaneous Customer Image Copies
has already been reached for {org-id}.

400 (Error)

REASON_451

One or more of the OVF or VMDK files is missing or inaccessible.

400 (Error)

REASON_453

Unexpected VMware error during copy process.

400 (Error)

REASON_460

{ovfPackagePrefix} is likely to cause a file name conflict with an
existing OVF Package or another Customer Image copying process
in progress.

400 (Error)

REASON_601

{sourceImageId} has another operation in progress and cannot be
copied until that operation is complete.

400 (Error)

REASON_750

Organization has insufficient trust level.

400 (Error)

REASON_770

{targetLocation} is invalid, is unavailable to {org-id} or is the location
where {sourceImageId} resides.

400 (Error)

REASON_820

VMware tools not installed on the {sourceImageId}.

400 (Error)

REASON_821

VMware tools was not running when the {sourceImageId} was
started.

400 (Error)

REASON_822

The version of VMware Tools installed on {sourceImageId} is not
supported.



4.8. List Customer Image Copying in Progress
4.8.1. Description
This function will return a list describing the status of any images being copied between locations for the
supplied organization {org-id}.

4.8.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/copyCustomerImage

Request Type

HTTP GET

4.8.3. Response Details
The response is a list of <imageCopy> elements contained in an <ImageCopies> element. The size of the
list is limited by the maximum number of copies that are permitted in progress at one time for the
organization. Initially; limited to two.
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ImageCopies xmlns="http://oec.api.opsource.net/schemas/server">
<!--Zero or more repetitions:-->
<imageCopy imageCopyId="5272e328-eaca-11e1-8340-d93da27669ab"
sourceLocation="NA3"
sourceImageId="5a18d6f0-eaca-11e1-8340-d93da27669ab"
sourceImageName="BASIC LAMP Image"
ovfPackagePrefix="basicLampImage">
<targetImage>
<!-- string, unique image id -->
<id>c325fe04-7711-4968-962e-c88784eb2xyz</id>
<!-- string, data center id -->
<location>NA1</location>
<!-- string -->
<name>My New Customer Image</name>
<!-- string, optional -->
<description>Image for producing web servers.</description>
<operatingSystem>
<!-- string -->
<type>LINUX</type>
<!-- string -->
<displayName>REDHATES5/64</displayName>
</operatingSystem>
<!-- int -->
<cpuCount>2</cpuCount>
<!-- int -->
<memoryMb>4096</memoryMb>
<!-- int -->
<osStorageGb>50</osStorageGb>
<!-- 0-to-many -->
<additionalDisk>
<!-- string, unique disk id -->
<id>ef49974c-87d0-400f-aa32-ee43559fdb1b</id>
<!-- string -->
<scsiId>1</scsiId>
<!-- int -->
<diskSizeGb>40</diskSizeGb>
<!-- string -->
<state>NORMAL</state>
</additionalDisk>
<!-- 0-to-many, string -->
<softwareLabel>REDHAT5ES64</softwareLabel>
<!-- optional -->
<source type="COPY">
<!-- 0-to-many, type and value required, date optional -->
<artifact type="SERVER_IMAGE_ID" value="xb632974c-87d0-400faa32-hb43559flk765" date="2008-09-29T02:49:45"/>


</source>
<!-- string; e.g. ‘NORMAL”, “FAILED_ADD”, “PENDING_CHANGE” -->
<state>PENDING_CHANGE</state>
<!-- optional timestamp, only present if Image is deployed -->
<deployedTime>2012-05-25T12:59:10.110Z</deployedTime>
<!-- optional same meaning as for Server, cannot be guaranteed for
Images and is considered purely informational -->
<machineStatus name="vmwareToolsApiVersion">
<value>8295</value>
</machineStatus>
<!-- optional, as above -->
<machineStatus name="vmwareToolsVersionStatus">
<value>CURRENT</value>
</machineStatus>
<!-- optional, as above -->
<machineStatus name="vmwareToolsRunningStatus">
<value>NOT_RUNNING</value>
</machineStatus>
<!-- optional, only present when an operation is in progress -->
<status>
<!-- string -->
<action>COPY_CUSTOMER_IMAGE</action>
<!-- timestamp -->
<requestTime>2012-05-25T23:10:36.000Z</requestTime>
<!-- string -->
<userName>theUser</userName>
<!-- optional, int -->
<numberOfSteps>3</numberOfSteps>
<!-- optional, timestamp -->
<updateTime>2012-05-25T23:11:32.000Z</updateTime>
<!-- 0-to-many -->
<step>
<!-- string -->
<name>WAIT_FOR_OPERATION</name>
<!-- int -->
<number>3</number>
<!-- optional int -->
<percentComplete>50</percentComplete>
</step>
<!-- optional string, only present if operation has failed -->
<failureReason>Operation timed out.</failureReason>
</status>
</targetImage>
</imageCopy>
</ImageCopies>

4.8.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_750

Organization has insufficient trust level.



4.9. Copy OVF Package from Remote Geo
4.9.1. Description
Starts the process of copying an OVF Package resident on the FTPS account of the organization {org-id},
at a particular geographic region to another geographic region. From there it can be imported to a data
center at that region as a new Customer Image (see Import Customer Image).
This API function can only be called by the Primary Administrator user or a user with the “Create Image”
role.

4.9.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/remoteOvfPackageCopy

Request Type

HTTP POST

Request
<NewRemoteOvfCopy xmlns="http://oec.api.opsource.net/schemas/server">
<sourceGeoId>4503ed6e-2e44-11e2-81d1-4b7e977ca8d3</sourceGeoId>
<sourceOvfPackage>myOvfPackage.mf</sourceOvfPackage>
</NewRemoteOvfCopy>
sourceGeoId

sourceOvfPackage

Required; UUID of the geographic location where the <sourceOvfPackage> is
resident. <sourceGeoId> corresponds to the value of the <id> child element of
a <geo> element returned by the List Multi-Geography Data Centers API
function.
Required; <sourceOvfPackage> is the full name of the manifest file describing
the contents of the OVF Package, including the “.mf” extension.
<sourceOvfPackage> is case insensitive.
Note: The list of OVF Packages available at the source geography can be
determined by the List OVF Packages API function using the appropriate
<Cloud API URL> for that geography.
The value to use for <sourceOvfPackage> on this API is retrieved from the
name attribute of each <ovfPackage> element returned by the List OVF
Packages function.
All files described by the <sourceOvfPackage> manifiest will be copied to the
destination geography.

4.9.3. Response Details (descriptive – includes all optional)
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Status xmlns="http://oec.api.opsource.net/schemas/server">
<operation>Copy Remote OVF Package</operation>
<result>SUCCESS</result>
<resultDetail>Request to Copy OVF Package "myRedHat564.mf" has been issued
- see additionalInformation for copy id</resultDetail>
<resultCode>RESULT_0</resultCode>
<additionalInformation name="remoteOvfPackageCopy.copyId">
<value>26cafdc4-66ad-11e1-b5d6-0030487e0302</value>
</additionalInformation>
<!-- Note this matches geoKey as returned by the List Multi-Geography Data
Centers function -->
<additionalInformation name="remoteOvfPackageCopy.sourceGeoKey">
<value>europe</value>
</additionalInformation>
</Status>



4.9.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_6

The geographic region {sourceGeoId} is currently in maintenance.

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_160

{org-id} invalid (does not match credentials).

400 (Error)

REASON_320

A required field is missing or does not contain a value.

400 (Error)

REASON_430

Maximum number of allowed simultaneous copies has already been
reached for {org-id}.

400 (Error)

REASON_460

{sourceOvfPackage} is likely to cause a file name conflict with an
existing OVF Package or another remote copying process in
progress.

400 (Error)

REASON_461

OVF package with specified name ({sourceOvfPackage}) does not
exist at the source geographic region {sourceGeoId}.

400 (Error)

REASON_750

Organization {org-id} has insufficient trust level.



4.10. List Remote OVF Package Copying in Progress
4.10.1. Description
Returns a list describing the status of any OVF Packages being copied from other geographic regions into
the geographic region identified by <Cloud API URL> for the organization identified by {org-id}.
This API function provides paging and filtering functionality. For details see Paging and Filtering for List
API Functions.

4.10.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/remoteOvfPackageCopy?
Paging/Ordering Optional Parameters:
&pageSize=
&pageNumber=
&orderBy=
Filter Optional Parameters:
&id={remoteCopyId}
&sourceGeoKey=
&startDate=

Request Type

HTTP GET

Field Name and Filter Parameters
fieldName

Type

Description

Filter
Parameter

orderBy
Parameter

id

uuid (String)

Identifies an individual copy in progress.

Yes

Yes

startDate

String

Identifies the start date of the copying
process.

Yes

Yes

sourceGeoKey

String

Identifies the source geographic region
for the OVF Package being copied. See
List Multi-Geography Data Centers.

Yes

Yes

4.10.3. Response Details
The response is a list of <ovfCopy> elements contained in an <OvfRemoteCopies> element. The size of
the list is limited by the maximum number of copies that are permitted in progress at one time for the
organization. Initially; limited to two.
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<OvfRemoteCopies pageSize="250" totalCount="1" pageCount="1" pageNumber="1"
... >
<ovfCopy sourceGeoKey="europe" remoteCopyId="5ff0aef4-00d5-434a-a3aa5c3456617700">
<name>myRedHat564OvfPackage.mf</name>
<state>PENDING_ADD</state>
<status>
<action>COPY_REMOTE_OVF_PACKAGE</action>
<requestTime>2012-11-16T11:59:59.000Z</requestTime>
<userName>staylor</userName>
<numberOfSteps>4</numberOfSteps>
<updateTime>2012-11-16T11:59:59.000Z</updateTime>


<step>
<name>SCHEDULE_COPY_AT_SOURCE</name>
<number>1</number>
<percentComplete>100</percentComplete>
</step>
</status>
</ovfCopy>
</OvfRemoteCopies>

4.10.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_750

Organization has insufficient trust level.



4.11. List Remote OVF Package Copy History
4.11.1. Description
This function will return a list describing the OVF Packages that have been being copied into the
geographic region identified by <Cloud API URL> for the organization identified by {org-id}.
This API function provides paging and filtering functionality. For details see Paging and Filtering for List
API Functions.

4.11.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{orgid}/remoteOvfPackageCopyHistory?
Paging/Ordering Optional Parameters:
&pageSize=
&pageNumber=
&orderBy=
Filter Optional Parameters:
&id=
&sourceGeoKey=
&startDate=

Request Type

HTTP GET

Field Name and Filter Parameters
fieldName

Type

Description

Filter
Parameter

orderBy
Parameter

id

uuid (String)

Identifies an individual history record.

Yes

Yes

startDate

String

Identifies the start date of the copying
process.

Yes

Yes

sourceGeoKey

String

Identifies the source geographic region
for the OVF Package being copied. See
List Multi-Geography Data Centers.

Yes

Yes

4.11.3. Response Details
The response is a list of <copyRemoteOvfPackageRecord> elements contained in a
<CopyRemoteOvfPackageHistory> element.
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<CopyRemoteOvfPackageHistory pageSize="250" totalCount="2" pageCount="2"
pageNumber="1" xmlns="http://oec.api.opsource.net/schemas/server" ... >
<copyRemoteOvfPackageRecord sourceGeoKey="europe" id="9ce9df00-aa65-4aeab378-afd6ecefd17f">
<mfFile sizeBytes="159" name="myRedHat564OVFPackage-2011-04-22-09-40.mf"/>
<ovfFile sizeBytes="6292" name="myRedHat564OVFPackage-2011-04-22-0940.ovf"/>
<!-- 1 to many repetitions -->
<vmdkFile sizeBytes="1093238784" name="myRedHat564OVFPackage-2011-04-2209-40-disk1.vmdk"/>
<startDate>2012-11-06T14:12:59.000Z</startDate>
<endDate>2012-11-06T14:20:00.000Z</endDate>


<result>SUCCESS</result>
</copyRemoteOvfPackageRecord>
<copyRemoteOvfPackageRecord sourceGeoKey="europe" id="42989257-5975-4aaebf7b-4edb039e50b6">
<startDate>2012-11-08T10:51:52.000Z</startDate>
<endDate>2012-11-08T11:00:00.000Z</endDate>
<result>ERROR</result>
</copyRemoteOvfPackageRecord>
</CopyRemoteOvfPackageHistory>

4.11.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_163

If sourceGeoKey was specified in a filter, the value provided does
not exist.

400 (Error)

REASON_750

Organization has insufficient trust level.



5. Server API
Provides a set of operations to interact with customers’ server VMs – including APIs for deploying, starting,
stopping, modifying, deleting and cloning servers.

5.1. List Servers (With Parameters)
This API function deprecates List Deployed Servers, List Pending Deployment Servers and Get Server
Details.
This API function provides paging and filtering functionality. For details see Paging and Filtering for List
API Functions.

5.1.1. Description
Lists the virtual servers belonging to the organization identified by {org-id}. Filters can be specified to limit
the set of servers returned. For example; servers residing on a single network, those that are deployed,
those pending deployment or restricting the list to a single server using the “&id=<server.id>” filter.
Note: the default pageSize for List Servers (With Parameters) is 250.

5.1.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/serverWithState?
Paging/Ordering Optional Parameters:
&pageSize=
&pageNumber=
&orderBy=
Filter Optional Parameters:
&created=
&deployed=
&id=
&location=
&machineName=
&name=
&networkId=
&privateIp=
&sourceImageId=

Request Type

HTTP GET

Field Name and Filter Parameters
fieldName

Type

Description

Filter
Parameter

orderBy
Parameter

id

uuid (String)

Identifies an individual server.

Yes

Yes

location

String

Identifies a data center at which servers
and networks are located.

Yes

Yes

networkId

uuid (String)

Identifies a network in which servers are
resident.

Yes

Yes

sourceImageId

uuid (String)

Identifies a server image used to create
servers.

Yes

Yes

deployed

boolean

Identifies whether or not servers have

Yes

Yes



completed the deployment process.
name

String

Matched against names of servers.

Yes

Yes

created

Date

Identifies the date of creation of servers.

Yes

Yes

No

Yes

Supports MIN and MAX. E.g:
&created.MIN=20120901T00:00:00Z
means with date on or after
2012-09-01 00:00:00
&created.MAX=20120901T00:00:00Z
means with date on or before
2012-09-01 00:00:00
state

String

The current status of the server. Case
insensitive.
The initial possible set of values for
Server.state are:
"NORMAL",
"PENDING_ADD",
"PENDING_CHANGE",
"PENDING_DELETE",
"FAILED_ADD",
"FAILED_DELETE",
"PENDING_CLEAN" and
"REQUIRES_SUPPORT".
This set of values should not be assumed
to be static and can increase at any time.

started

Date

Identifies when the server was last
started.

No

Yes

operatingSystemId

String

Identifies the Operating System of the
server. E.g. "REDHAT564"

No

Yes

5.1.3. Response Details (descriptive – includes all optional)
<ServersWithState
xmlns="http://oec.api.opsource.net/schemas/server"
totalCount="320"
pageCount="250"
pageNumber="1"
pageSize="250">
<!--Zero or more repetitions:-->
<serverWithState id="c325fe04-7711-4968-962e-c88784eb2" location="NA1">
<name>Production LAMP Server</name>
<!--Optional:-->
<description>Main web application server.</description>
<operatingSystem id="REDHAT564" displayName="REDHAT5/64" type="UNIX"/>
<cpuCount>2</cpuCount>
<memoryMb>4096</memoryMb>
<!-- one or more repetitions:-->
<disk id="x445fe05-7113-4988-9d2e-cbjt78eb2" scsiId="0" sizeGb="50"
speed="STANDARD" state="NORMAL"/>
<disk id="ef49974c-87d0-400f-aa32-ee43559fdb1b" scsiId="1" sizeGb="150"
speed="STANDARD" state="NORMAL"/>
<!--Zero or more repetitions:-->
<softwareLabel>REDHAT5ES64</softwareLabel>
<!--Optional:-->
<sourceImageId>5a18d6f0-eaca-11e1-8340-d93da27669ab</sourceImageId>
<networkId>xb632974c-87d0-400faa32-hb43559flk765</networkId>


<machineName>10-157-3-125</machineName>
<privateIp>10.157.3.125</privateIp>
<!--Optional:-->
<publicIp>206.80.63.208</publicIp>
<created>2012-07-02T10:43:31.000Z</created>
<isStarted>false</isStarted>
<isDeployed>true</isDeployed>
<state>PENDING_CHANGE</state>
<!--Zero or more repetitions:-->
<machineStatus name="vmwareToolsRunningStatus">
<value>RUNNING</value>
</machineStatus>
<!--Optional:-->
<status>
<action>START_SERVER</action>
<requestTime>2012-09-26T08:36:28</requestTime>
<userName>btaylor</userName>
<!--Optional:-->
<numberOfSteps>3</numberOfSteps>
<!--Optional:-->
<updateTime>2012-09-26T08:37:28</updateTime>
<!--Optional:-->
<step>
<name>Waiting for operation</name>
<number>3</number>
<!--Optional:-->
<percentComplete>3</percentComplete>
</step>
<!--Optional: (present only if the last operation failed and left
the server in a locked state) -->
<failureReason>Message Value</failureReason>
</status>
</serverWithState>
</ServersWithState>

5.1.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_250

networkId supplied could not be found for {org-id}.

400 (Error)

REASON_770

location supplied is either unavailable or invalid.



5.2. Clean Failed Server Deployment
5.2.1. Description
Removes a failed server deployment from the List Pending Deployed Servers lists. Requires your
organization ID and the ID of the target server.
If the attempt to remove the failed server with the Clean Failed Server Deployment function fails, you will
need to contact Support to remove the server from the list and free up the associated private IP address.

5.2.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/server/{server-id}?clean

Request Type

HTTP GET

5.2.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns6:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns6:operation>Clean Server</ns6:operation>
<ns6:result>SUCCESS</ns6:result>
<ns6:resultDetail>Successfully submitted clean failed server request for
server id: {server-id}, private IP address {private-ipaddress}</ns6:resultDetail>
<ns6:resultCode>REASON_0</ns6:resultCode>
</ns6:Status>

5.2.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_395

Could not find server for ID for {org-id}

400 (Error)

REASON_392

Operation in progress on Server with Id <SERVER_ID>



5.3. Deploy Server
5.3.1. Description
Deploys a new VM based on an existing OS, Partner or Customer Image. Requires your organization ID,
the ID of the network where the server is to be deployed and the ID of image from which the server is to be
created.

5.3.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/server

Request Type

HTTP POST

Request Data
<Server xmlns='http://oec.api.opsource.net/schemas/server'>
<name>My Server</name>
<description>My Server Description</description>
<vlanResourcePath>/oec/{org-id}/network/{net-id}</vlanResourcePath>
<imageResourcePath>/oec/base/image/{image-id}</imageResourcePath>
<administratorPassword>zyxw4321</administratorPassword>
<isStarted>true</isStarted>
</Server>

5.3.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns6:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns6:operation>Deploy Server</ns6:operation>
<ns6:result>SUCCESS</ns6:result>
<ns6:resultDetail>Server "Deploy" issued</ns6:resultDetail>
<ns6:resultCode>REASON_0</ns6:resultCode>
</ns6:Status>

5.3.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Unexpected Error – Integration.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_250

Could not find network for ID.

400 (Error)

REASON_310

No IP addresses available.

400 (Error)

REASON_320

Invalid Data.

400 (Error)

REASON_390

Could not find server image for ID.

400 (Error)

REASON_601

Operation in progress on the target Network.

400 (Error)

REASON_751

Daily Deployment Limit Exceeded.



5.4. Delete Server
5.4.1. Description
Powers off and completely removes an existing deployed server. Requires your organization ID and the ID
of the target server.

5.4.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/server/{server-id}?delete

Request Type

HTTP GET

5.4.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns6:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns6:operation> Delete Server</ns6:operation>
<ns6:result>SUCCESS</ns6:result>
<ns6:resultDetail>Server "Delete" issued</ns6:resultDetail>
<ns6:resultCode>REASON_0</ns6:resultCode>
</ns6:Status>

5.4.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_40

INVALID_STATE_TRANSITION - Server is not currently in a
stopped state. Servers must be stopped to be deleted.

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_392

Operation in progress on Server with Id {server-id}.

400 (Error)

REASON_393

Server {server-id} is associated with a Real Server.

400 (Error)

REASON_395

Could not find server for ID for {org-id}.

400 (Error)

REASON_692

Server {server-id} is associated with a Sever Anti-Affinity Rule and
cannot be deleted unless the rule is removed.



5.5. Modify Server
5.5.1. Description
Changes the Name, Description, CPU or RAM profile of an existing deployed server. Requires your
organization ID and the ID of the target server. The proposed total number of processors and total amount
of RAM (in MBs) is supplied.
Please see the Community for the possible CPU and RAM values at each data center:
https://community.opsourcecloud.net/View.jsp?procId=909df8497a17a1d580e6e58e2037ad01

5.5.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/server/{server-id}

Request Type

HTTP POST

Parameter Request Data (include only fields being changed with “&” separating each parameter)
name=

Name of the server (max. 75 char)

description=

Description of the server (max. 255 char). Note: a “description” parameter supplied
without a corresponding value result in an empty server description being set.

cpuCount=

Number of virtual CPU’s (e.g. 1, 2, 4 etc.)

memory=

Memory (in MB). Value must be represent a GB integer (e.g. 1028,. 2048, 3064, 4096,
etc.)

5.5.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns6:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns6:operation>Edit Server</ns6:operation>
<ns6:result>SUCCESS</ns6:result>
<ns6:resultDetail>Server edited</ns6:resultDetail>
<ns6:resultCode>REASON_0</ns6:resultCode>
</ns6:Status>

5.5.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Unexpected Error – Integration.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_320

Invalid input data:
name, if specified, exceeds 75 chars
description, if specified, exceeds 255 chars
cpuCount, if specified, not a valid number
memory, if specified, not a valid number or not in (configurable)
range

400 (Error)

REASON_392

Operation in progress on Server with Id <SERVER_ID>

400 (Error)

REASON_395

Could not find server for ID for {org-id}



5.6. Start Server
5.6.1. Description
Powers on an existing deployed server. Requires your organization ID and the ID of the target server.

5.6.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/server/{server-id}?start

Request Type

HTTP GET

5.6.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns6:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns6:operation>Start Server</ns6:operation>
<ns6:result>SUCCESS</ns6:result>
<ns6:resultDetail>Server "Start" issued</ns6:resultDetail>
<ns6:resultCode>REASON_0</ns6:resultCode>
</ns6:Status>

5.6.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Unexpected Error – Integration.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_40

INVALID_STATE_TRANSITION - Server is already running.

400 (Error)

REASON_392

Operation in progress on Server with Id <SERVER_ID>.

400 (Error)

REASON_395

Could not find server for ID for {org-id}.



5.7. Shutdown Server (Graceful Stop)
5.7.1. Description
This function will attempt to “gracefully” stop a server by initiating a shutdown sequence within the guest
operating system. A successful response on this function means the system has successfully passed the
request into the operating system. The running state of the server is updated once the shutdown has been
successfully completed. If the shutdown does not succeed within 15 minutes, the system will note a failure
in the administrative logs.
Note it is not possible to perform this action on a server if the server has not got VMware Tools installed.
See List Deployed Servers on Network with Disks for more details.

5.7.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/server/{serverid}?shutdown

Request Type

HTTP GET

5.7.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns6:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns12:operation>Graceful Shutdown Server</ns12:operation>
<ns12:result>SUCCESS</ns12:result>
<ns12:resultDetail>Server "Graceful Shutdown" issued</ns12:resultDetail>
<ns12:resultCode>REASON_0</ns12:resultCode>
</ns6:Status>

5.7.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Unexpected Error – Integration.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_40

INVALID_STATE_TRANSITION - Server is already in a stopped
state.

400 (Error)

REASON_392

Operation in progress on Server with Id <SERVER_ID>.

400 (Error)

REASON_395

Could not find server for ID for {org-id}.

400 (Error)

REASON_800

Operation is not permitted - VMware Tools are not running on the
Server.



5.8. Power Off Server
5.8.1. Description
This function works exactly like the existing Stop Server function (i.e. “{server-id}?stop”), but has a
different name. It represents the abrupt powering off of the virtual server. Unlike “graceful stop”, success
ensures the virtual server will stop, but some O/S and application configurations may be affected by the
equivalent of pulling the power plug out of the machine.
The existing Stop Server would continue to exist in 0.9, but would be removed from the documentation to
eliminate confusion and would eventually be deprecated in a future API version.

5.8.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/server/{serverid}?poweroff

Request Type

HTTP GET

5.8.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns6:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns6:operation>Power Off Server</ns6:operation>
<ns6:result>SUCCESS</ns6:result>
<ns6:resultDetail>Server "Power Off" issued</ns6:resultDetail>
<ns6:resultCode>REASON_0</ns6:resultCode>
</ns6:Status>

5.8.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Unexpected Error – Integration.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_40

INVALID_STATE_TRANSITION - Server is already stopped.

400 (Error)

REASON_392

Operation in progress on Server with Id <SERVER_ID>.

400 (Error)

REASON_395

Could not find server for ID for {org-id}.



5.9. Reboot Server
5.9.1. Description
This API requests the guest operating system of an existing deployed server to perform a “graceful“
reboot. For example, this is the equivalent of clicking “Start” on a Windows server and selecting the
“Restart” option. Requires your organization ID and the ID of the target server.

5.9.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/server/{server-id}?reboot

Request Type

HTTP GET

5.9.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns6:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns6:operation> Graceful Reboot Server</ns6:operation>
<ns6:result>SUCCESS</ns6:result>
<ns6:resultDetail>Server "Graceful Reboot" issued</ns6:resultDetail>
<ns6:resultCode>REASON_0</ns6:resultCode>
</ns6:Status>

5.9.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Unexpected Error – Integration.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_40

INVALID_STATE_TRANSITION - Server is not currently in a started
state. Servers must be started to be rebooted.

400 (Error)

REASON_392

Operation in progress on Server with Id <SERVER_ID>.

400 (Error)

REASON_395

Could not find server for ID for {org-id}.

400 (Error)

REASON_800

VMware Tools are not running on the Server.



5.10. Reset Server
5.10.1. Description
Power cycles an existing deployed server. This is the equivalent of pulling and replacing the power cord for
a physical server. Requires your organization ID and the ID of the target server.

5.10.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/server/{server-id}?reset

Request Type

HTTP GET

5.10.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns6:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns6:operation> Reset Server</ns6:operation>
<ns6:result>SUCCESS</ns6:result>
<ns6:resultDetail>Server "Reset" issued</ns6:resultDetail>
<ns6:resultCode>REASON_0</ns6:resultCode>
</ns6:Status>

5.10.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Unexpected Error – Integration.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_40

INVALID_STATE_TRANSITION - Server is not currently in a started
state. Servers must be started to be reset.

400 (Error)

REASON_392

Operation in progress on Server with Id <SERVER_ID>.

400 (Error)

REASON_395

Could not find server for ID for {org-id}.



5.11. Update VMware Tools
5.11.1. Description
Triggers an update of the VMware Tools software running on the guest OS of a virtual server. VMware
Tools will only be updated if it is reported as out of date by VMware.

5.11.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/server/{serverid}?updateVMwareTools

Request Type

HTTP GET

5.11.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns6:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns6:operation>Update Vmware Tools</ns6:operation>
<ns6:result>SUCCESS</ns6:result>
<ns6:resultDetail>Server "update vmware tools" issued</ns6:resultDetail>
<ns6:resultCode>REASON_0</ns6:resultCode>
</ns6:Status>

5.11.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Unexpected Error – Integration.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_392

Operation in progress on Server with Id <SERVER_ID>.

400 (Error)

REASON_395

Could not find server for ID for {org-id}.

400 (Error)

REASON_820

VMware Tools does not need to be upgraded.

400 (Error)

REASON_821

VMware Tools cannot be updated.



5.12. Add Storage to Server
5.12.1. Description
Creates an additional disk/volume of storage for an existing deployed server. Requires your organization
ID and the ID of the target server. The amount of storage to be added is specified in gigabytes and must
be an integer within the range allowed in the Geographic Region. The maximum number of additional
disks that can be added to a Cloud Server (besides the OS disk) is 13.
NOTE: The range of storage allowed in a Geographic Region is not currently available programmatically,
but it will be added in a future release. In the meantime, the current allowable ranges are described in the
Community in this article:
https://community.opsourcecloud.net/View.jsp?procId=97314c7b7a6830019a28713ffbdae82e
When a request to add storage to a server is processed, the resultDetail response now includes the SCSI
ID that will be assigned to the new volume when it is available. The Deployed Servers on Network with
Disks function allows you to examine the state of each disk on the server. When the state is NORMAL, the
volume is ready for use.

5.12.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/server/{serverid}?addLocalStorage&amount=10

Request Type

HTTP GET

5.12.3. Response Details (includes sample values)
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns6:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns6:operation> Add Local Storage</ns6:operation>
<ns6:result>SUCCESS</ns6:result>
<ns6:resultDetail> 10 GB of local storage is being added to server "Another
test server" on SCSI ID 2</ns6:resultDetail>
<ns6:resultCode>REASON_0</ns6:resultCode>
</ns6:Status>

5.12.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Unexpected Error – Integration.

400 (Error)

REASON_11

Potentially Recoverable Failure at Server - supporting retry.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_320

Additional local storage amount xxx is not in range for Geographic
Region

400 (Error)

REASON_320

You may only add a maximum of 13 additional storage drives.

400 (Error)

REASON_392

Operation in progress on Server with Id <SERVER_ID>.

400 (Error)

REASON_395

Could not find server for ID for {org-id}.

Notes:
•

REASON_10 indicates a non-recoverable failure occurred when attempting to add the disk. If this
situation occurs, you must open a Support Case to address the issue. Until the issue is
addressed, you may not take any further actions against the server.

•

REASON_11 indicates a potentially recoverable failure occurred when attempting to add storage
to the server. For example; a blocking operation already in progress on the server. Upon
receiving this response, the system will “reset” the server back to normal, allowing you to attempt
the storage addition again. Open a Support Case if repeated attempts are unsuccessful.

In both cases; details of the failure are available in the Audit Log Report.



5.13.

Remove Storage from Server

5.13.1. Description
Removes a previously added volume of storage from an existing deployed server. Requires your
organization ID, the ID of the target server and the ID of the target disk.
The Deployed Servers on Network with Disks function allows you to examine the disks on the server to
ascertain the ID of the disk you wish to remove.

5.13.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/server/{serverid}/disk/{disk-id}?delete

Request Type

HTTP GET

5.13.3. Response Details (includes sample values)
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns6:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns6:operation> Delete Local Storage</ns6:operation>
<ns6:result>SUCCESS</ns6:result>
<ns6:resultDetail> Server "Disk Delete" issued</ns6:resultDetail>
<ns6:resultCode>REASON_0</ns6:resultCode>
</ns6:Status>

5.13.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Unexpected Error – Integration.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_40

INVALID_STATE_TRANSITION – Disk is not in expected state.

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_392

Operation in progress on Server with Id <SERVER_ID>.

400 (Error)

REASON_394

Disk, {disk-id} does not exist.

400 (Error)

REASON_395

Could not find server, {server-id} for {org-id}.

400 (Error)

REASON_696

Cannot delete operating system disk which is located on SCSI Id 0.



5.14. Change Server Disk Speed
5.14.1. Description
This function changes the speed of a disk ({disk-id}) attached to a deployed server ({server-id}). The disk
can be the OS volume or any additionally added volume. {disk-id} is the UUID of the disk in question rather
than the SCSI ID of the disk.
The standard Status response will indicate whether or not the request to change the disk speed of the
identified disk has been successful. Change Disk Speed is an asynchronous operation, should it fail the
disk will return to its previous state and an error will be logged in the Administrator Log Report.
Note: refer to List Data Centers (With Parameters) for further information on disk speeds.

5.14.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/server/{serverid}/disk/{disk-id}/changeSpeed

Request Type

HTTP POST

Request Data
<ChangeDiskSpeed xmlns="http://oec.api.opsource.net/schemas/server">
<!-- Disk speed values from List Data Centers (With Parameters) -->
<speed>STANDARD</speed>
</ChangeDiskSpeed>

5.14.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Status>
<operation>Change Server Disk Speed</operation>
<result>SUCCESS</result>
<resultDetail>Change Server Disk Speed Issued</resultDetail>
<resultCode>RESULT_0</resultCode>
</Status>

5.14.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_320

<speed> is invalid or missing.

400 (Error)

REASON_392

Operation in progress on Server, {server-id}.

400 (Error)

REASON_394

Disk, {disk-id} does not exist.

400 (Error)

REASON_395

Could not find server, {server-id} for {org-id}.

400 (Error)

REASON_826

Requested speed, <speed> is not available for use. Note: the reason
for a disk speed not being available is visible on the List Data
Centers (With Parameters) function.



5.15. Clone Server to Create Customer Image
5.15.1. Description
Initiates a clone of a server to create a Customer Image. Note that the Customer Image name is required
to be unique across the entire Infrastructure (i.e. across all customers). There’s currently no query to
identify if a name is in use, so your code should be prepared to deal with REASON_391 by trying again
with a different name (i.e. append a number to the end of the name and try again).
Note it is not possible to perform this action on a server if the server has not got VMware Tools installed.
See List Deployed Servers on Network with Disks.

5.15.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/server/{server-id}
?clone={newImageName}&desc={newImageDescription}

Request Type

HTTP GET

Parameter Request Data (include only fields being changed with “&” separating each parameter)
newImageName=

Name of the image.
Max. 75 char, must be unique, permitted characters are (within and excluding
the quotes): “a-zA-Z0-9_+=# .,:;()-“. Note that the “space” character is
permitted.

newImageDescription=

Description of the image.
Max. 255 char.

5.15.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns9:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns9:operation>Clone Server</ns9:operation>
<ns9:result>SUCCESS</ns9:result>
<ns9:resultDetail>Server "Clone" issued</ns9:resultDetail>
<ns9:resultCode>REASON_0</ns9:resultCode>
</ns9:Status>

5.15.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Unexpected Error – Integration.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_320

Invalid data input – image name and description must be less than
256 characters in length.

400 (Error)

REASON_379

An operation is in progress on a disk attached to {server-id}.

400 (Error)

REASON_391

Image Name is Already in Use.

400 (Error)

REASON_392

Operation in progress on Server with Id {server-id}.

400 (Error)

REASON_395

Could not find server for ID for {org-id}.

400 (Error)

REASON_800

VMWare Tools are not installed on the source Server.



5.16. Create Server Anti-Affinity Rule
5.16.1. Description
Creates a new Server Anti-Affinity Rule between two servers on the same Cloud network. The rule
ensures that the two servers will not reside on the same VMware ESX host. The order in which the servers
are specified has no bearing the behavior.
Note: the network is not specified on the request, it is derived from and checked against both servers and
an error code will be returned if the servers supplied are not on the same network.

Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/antiAffinityRule

Request Type

HTTP POST

Request Data
<NewAntiAffinityRule xmlns="http://oec.api.opsource.net/schemas/server">
<serverId>40285f24-300f-11e2-b574-1a6dd6e90d84</serverId>
<serverId>45912c48-90fe-j4fu-14ds-43kjh5675sfg</serverId>
</NewAntiAffinityRule>

5.16.2. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Status>
<operation>Create Anti Affinity Rule</operation>
<result>SUCCESS</result>
<resultDetail>Success message</resultDetail>
<resultCode>RESULT_0</resultCode>
<additionalInformation name="antiaffinityrule.id">
<value>20ce6bee-a4ed-11e1-a91c-0030487e0302</value>
</additionalInformation>
</Status>

5.16.3. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_320

{server-id} value missing or invalid.

400 (Error)

REASON_392

One or both of the supplied servers is in an invalid state. Valid states
are "NORMAL" and "PENDING_CHANGE". The state of a server
can be checked using the List Servers (With Parameters) function.

400 (Error)

REASON_395

One of both of the supplied servers does not belong to {org-id}.

400 (Error)

REASON_691

Servers must be on the same network.

400 (Error)

REASON_692

A server can only exist in one server anti-affinity rule.

400 (Error)

REASON_694

Anti-affinity rules are not enabled on the appropriate infrastructure.
This error should never be returned in normal usage. Please open a
support case if it does occur.



5.17. List Server Anti-Affinity Rules
5.17.1. Description
Returns a list of the Server Anti-Affinity Rules belonging to the organization identified by {org-id}. Generally
this API function is used with the location and networkId parameters in place to limit the number of
responses returned. To retrieve a single rule use the id parameter.
This API function provides paging and filtering functionality. For details see Paging and Filtering for List
API Functions.

5.17.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/antiAffinityRule?
Paging/Ordering Optional Parameters:
&pageSize=
&pageNumber=
&orderBy=
Filter Optional Parameters:
&id=
&location=
&networkId=

Request Type

HTTP GET

Field Name and Filter Parameters
fieldName

Type

Description

Filter Parameter

orderBy
Parameter

id

uuid (String)

Identifies an individual server anti-affinity
rule by its id.

Yes

Yes

location

String

Restricts the rules returned to those in the
provided location parameter(s).

Yes

Yes

networkId

String

Restricts the rules returned to a particular
network.

Yes

Yes

created

Date

The date of creation of the rule.

No

Yes

5.17.3. Response Details
The response is a list of zero or more <antiAffinityRule> elements contained within an <AntiAffinityRules>
element.
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<AntiAffinityRules pageSize="250" totalCount="1" pageCount="1" pageNumber="1"
xmlns="http://oec.api.opsource.net/schemas/server" ... >
<antiAffinityRule location="NA1" created="2012-11-02T13:57:01.000Z"
state="NORMAL" id="4ba40fb1-55db-4d20-8afd-5db9f1b5a339">
<serverSummary id="60b949dc-25eb-46f7-9da2-3b4bd8740e7b">
<name>LAMP Production Server 1</name>
<description>Main public facing SaaS server.</description>
<privateIp>10.157.110.12</privateIp>
<networkId>cefae7a4-4a69-11e0-b7ea-0030487e0302</networkId>
<networkName>Production Network</networkName>


</serverSummary>
<serverSummary id="651cdb10-9eff-47f4-ae26-acc62a3281ff">
<name>LAMP Production Server 2</name>
<description>Main public facing SaaS server mirror.</description>
<privateIp>10.157.110.11</privateIp>
<networkId>cefae7a4-4a69-11e0-b7ea-0030487e0302</networkId>
<networkName>Production Network</networkName>
</serverSummary>
</antiAffinityRule>
</AntiAffinityRules>

5.17.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_250

If a networkId filter is specified, either the network does not exist or is
not owned by the specified {org-id}.

400 (Error)

REASON_770

If a location filter is specified, the location does not exist or is not
available to {org-id}.



5.18. Delete Server Anti-Affinity Rule
5.18.1. Description
Completely removes the server anti-affinity rule identified by {rule-id} from the system for the organization;
{org-id}.

5.18.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/antiAffinityRule/{ruleid}?delete

Request Type

HTTP GET

5.18.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Status>
<operation>Delete Anti Affinity Rule</operation>
<result>SUCCESS</result>
<resultDetail>Success message</resultDetail>
<resultCode>RESULT_0</resultCode>
</Status>

5.18.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_40

The rule is in an state that does not support deletion.
Note that the state of a rule can be determined with the List Server
Anti-Affinity Rules function.

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_693

The server anti-affinity rule identified by {rule-id} does not belong to
organisation; {org-id}.



6. Network API
Provides a set of operations for interacting with Networks – including APIs for creating, deleting and
configuring ACL and NAT rules.

6.1. List Networks
6.1.1. Description
Retrieves the set of networks owned by a customer in their default data center location; note that the
“location” is not included in the output. This API requires your organization ID. Please see the related APIs
“List Networks with Location” and “List Networks in Location”.

6.1.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network

Request Type

HTTP GET

6.1.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns4:Networks xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns4:Network>
<ns4:id>4804-b2e4</ns4:id>
<ns4:resourcePath>/oec/a481-2b15/network/12b1-4804</ns4:resourcePath>
<ns4:name>network x</ns4:name>
<ns4:description>network x description</ns4:description>
<ns4:multicast>false</ns4:multicast>
</ns4:Network>
<ns4:Network>
<ns4:id>4bdd-8bb7</ns4:id>
<ns4:resourcePath>/oec/a481-2b15/network/4bdd-8bb7</ns4:resourcePath>
<ns4:name>network y</ns4:name>
<ns4:description>network y description</ns4:description>
<ns4:multicast>false</ns4:multicast>
</ns4:Network>
</ns4:Networks>

6.1.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).



6.2.

List Networks with Location

Lists the Networks deployed across all data center locations for the supplied organization. The response
includes the data center location of each network.

6.2.1. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/networkWithLocation

Request Type

HTTP GET

6.2.2. Response Details
<?xml version="1.0" encoding="UTF-8"?>
<ns4:NetworkWithLocations
xmlns:ns4="http://oec.api.opsource.net/schemas/network" ..>
<ns4:network>
<ns4:id>2f7460d4-6516-4c45-a3c8-591e70b4ec54</ns4:id>
<ns4:name>Network B</ns4:name>
<ns4:description>Network B description</ns4:description>
<ns4:location>NA1</ns4:location>
<ns4:privateNet>10.157.10.0</ns4:privateNet>
<ns4:multicast>false</ns4:multicast>
</ns4:network>
<ns4:network>
:
</ns4:network>
</ns4:NetworkWithLocations>

6.2.3. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).



6.3.

List Networks in Location

Lists the Networks deployed in a given data center location.

6.3.1. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/networkWithLocation/{locationid}

Request Type

HTTP GET

6.3.2. Response Details
<?xml version="1.0" encoding="UTF-8"?>
<ns4:NetworkWithLocations
xmlns:ns4="http://oec.api.opsource.net/schemas/network" ..>
<ns4:network>
<ns4:id>2f7460d4-6516-4c45-a3c8-591e70b4ec54</ns4:id>
<ns4:name>Network B</ns4:name>
<ns4:description>Network B description</ns4:description>
<ns4:location>NA1</ns4:location>
<ns4:privateNet>10.157.10.0</ns4:privateNet>
<ns4:multicast>false</ns4:multicast>
</ns4:network>
<ns4:network>
:
</ns4:network>
<ns4:network>
:
</ns4:network>
</ns4:NetworkWithLocations>

6.3.3. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_770

Invalid location (see List Data Centers (With Parameters)).



6.4.

Get Network Details

6.4.1. Description
Retrieves the details of a specific network owned by a customer. This API requires your organization ID
and the ID of the target network.

6.4.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{net-id}

Request Type

HTTP GET

6.4.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns4:Network xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns4:id>84ac-4e7b</ns4:id>
<ns4:resourcePath>/oec/2b15-4eaf/network/84ac-4e7b</ns4:resourcePath>
<ns4:name>network z rc</ns4:name>
<ns4:description>network z description</ns4:description>
<ns4:multicast>false</ns4:multicast>
</ns4:Network>

6.4.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_250

Network does not exist for {org-id}.



6.5. Create Network
6.5.1. Description
Deploys a new network to your default data center location (see the List Data Centers (With Parameters)).
There are some important notes about these error responses:
•

REASON_10 indicates a non-recoverable failure occurred when attempting to create the network.
If this situation occurs, you must open a Support Case to address the issue. Until the issue is
addressed, any additional attempts to add or delete networks will receive a REASON_601
response.

•

REASON_20 indicates a non-recoverable timeout failure. Since Create Network is a synchronous
function, there is a “timeout” limit set giving a limited amount of time for a network to successfully
be created. This fault code indicated that for some reason the attempt to create the network didn’t
succeed within the time allotted to complete. If this situation occurs, you must open a Support
Case to address the issue. Until the issue is addressed, any additional attempts to add or delete
networks will receive a REASON_601 response.

6.5.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network

Request Type

HTTP POST

Request Data
<Network xmlns='http://oec.api.opsource.net/schemas/network'>
<name>network w</name>
<description>network w description</description>
</Network>

6.5.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns6:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns6:operation>Add Network</ns6:operation>
<ns6:result>SUCCESS</ns6:result>
<ns6:resultDetail>Network added</ns6:resultDetail>
<ns6:resultCode>REASON_0</ns6:resultCode>
</ns6:Status>

6.5.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at Network – internal error occurred.Try again.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_210

Network name is not unique.

400 (Error)

REASON_220

No available networks.

400 (Error)

REASON_320

Invalid Data – name (max. 75 chars) and description (max. 255
chars) exceed maximum length.

400 (Error)

REASON_601

Operation in progress: a Create Network, Create Network with
Location or Delete Network operation is already in progress for the
organization.



6.6.

Create Network with Location

Deploys a new network in a designated data center location. The designated data center must be chosen
from your available data centers list (See “List Data Centers (With Parameters)”). The “location” property
of the data center is used to identify it for network creation. The “name” property must be unique within
your organization.
There are some important notes about these error responses:
•

REASON_10 indicates a non-recoverable failure occurred when attempting to create the network.
If this situation occurs, you must open a Support Case to address the issue. Until the issue is
addressed, any additional attempts to add or delete networks will receive a REASON_601
response.

•

REASON_20 indicates a non-recoverable timeout failure. Since Create Network is a synchronous
function, there is a “timeout” limit set giving a limited amount of time for a network to successfully
be created. This fault code indicated that for some reason the attempt to create the network didn’t
succeed within the time allotted to complete. If this situation occurs, you must open a Support
Case to address the issue. Until the issue is addressed, any additional attempts to add or delete
networks will receive a REASON_601 response.

6.6.1. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/networkWithLocation

Request Type

HTTP POST

6.6.2. Request Data
<NewNetworkWithLocation xmlns="http://oec.api.opsource.net/schemas/network">
<name>Network B</name>
<!--Optional:-->
<description>Description of Network B</description>
<location>NA1</location>
</NewNetworkWithLocation>

6.6.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns6:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" .. >
<ns6:operation>Add Network</ns6:operation>
<ns6:result>SUCCESS</ns6:result>
<ns6:resultDetail>Network added</ns6:resultDetail>
<ns6:resultCode>REASON_0</ns6:resultCode>
</ns6:Status>

6.6.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_210

Network name is not unique.

400 (Error)

REASON_220

No available networks.

400 (Error)

REASON_320

Invalid Data – name (max. 75 chars) or description (max. 255 chars) exceed
maximum length.

400 (Error)

REASON_601

Operation in progress: a Create Network, Create Network with Location or
Delete Network operation is already in progress for the organization

400 (Error)

REASON_770

Invalid location (see List Data Centers (With Parameters))



6.7.

Delete Network

6.7.1. Description
Retrieves the details of a specific network owned by a customer. This API requires your organization ID
and the ID of the target network. There are some important notes about these error responses:
•

REASON_10 indicates a non-recoverable failure occurred when attempting to delete the network.
If this situation occurs, you must open a Support Case to address the issue. Until the issue is
addressed, any additional attempts to add or delete networks will receive a REASON_601
response.

•

REASON_11 indicates a potentially recoverable failure occurred when attempting to delete the
network. Upon receiving this response, the system will “reset” the network back to normal again,
allowing you to attempt the delete again. This situation normally occurs if the Cisco switch is too
busy to handle the request to make changes necessary to delete the server. However, there are
some rare cases where the system might continue to fail to delete a network... so your code
needs to limit the attempts to retry deleting the network. Open a Support Case if repeated
attempts to delete the network are unsuccessful.

•

REASON_20 indicates a non-recoverable timeout failure. Since Delete Network is a synchronous
function, there is a “timeout” limit set giving a limited amount of time for a network to successfully
delete. This fault code indicated that for some reason the attempt to delete the network didn’t
succeed within the time allotted to complete. If this situation occurs, you must open a Support
Case to address the issue. Until the issue is addressed, any additional attempts to add or delete
networks will receive a REASON_601 response.

6.7.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}?delete

Request Type

HTTP GET

6.7.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns6:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns6:operation>Delete Network</ns6:operation>
<ns6:result>SUCCESS</ns6:result>
<ns6:resultDetail>Network deleted successfully</ns6:resultDetail>
<ns6:resultCode>REASON_0</ns6:resultCode>
</ns6:Status>

6.7.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Unrecoverable failure at Network.

400 (Error)

REASON_11

Potentially Recoverable Failure at Network - supporting retry.

400 (Error)

REASON_20

Unrecoverable timeout failure at Network .

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_250

Network does not exist for {org-id}.

400 (Error)

REASON_371

Network is in Multicast mode.

400 (Error)

REASON_380

Cannot delete Network network because it still contains resources:
Server(s).

400 (Error)

REASON_381

Cannot delete Network network because it still contains resources:
Pending Deployment Server(s).

400 (Error)

REASON_382

Cannot delete Network network because it still contains resources:
NAT Rule(s).

400 (Error)

REASON_383

Cannot delete Network network because it still contains resources:
NAT Rule(s) with an operation in progress.

400 (Error)

REASON_384

Cannot delete Network network because it still contains resources:
IP Block(s).



400 (Error)

REASON_385

Cannot delete Network network because it still contains resources:
IP Block(s) with an operation in progress.

400 (Error)

REASON_386

Cannot delete Network network because it has another operation in
progress.

400 (Error)

REASON_387

Cannot delete Network network because it still contains resources:
Real Server(s).

400 (Error)

REASON_388

Cannot delete Network network because it still contains resources:
Server Farm(s).

400 (Error)

REASON_389

Cannot delete Network network because it still contains resources:
VIP(s).

400 (Error)

REASON_397

Cannot delete Network network because it still contains resources:
Persistence Profile(s).

400 (Error)

REASON_398

Cannot delete Network network because it still contains resources:
Real Server(s) with an operation in progress.

400 (Error)

REASON_601

Operation in progress: a Create Network, Create Network with
Location, Delete Network operation is already in progress for the
organization or another network operation is in progress for Network
{network-id}.

400 (Error)

REASON_640

Cannot delete Network network because it still contains resources:
Server Farms(s) with an operation in progress.

400 (Error)

REASON_641

Cannot delete Network network because it still contains resources:
Persistence Profiles(s) with an operation in progress.

400 (Error)

REASON_660

Cannot delete Network network because it still contains resources:
VIP(s) with an operation in progress.



6.8. Modify Network
6.8.1. Description
Changes the Name or Description of an existing network. Requires your organization ID and the ID of the
target network.

6.8.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{network-id}

Request Type

HTTP POST

Parameter Request Data (include only fields being changed with “&” separating each parameter)
name=

Name of the server (max. 75 char, must be unique)

description=

Description of the server (max. 255 char)

6.8.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns6:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns6:operation>Edit Network</ns6:operation>
<ns6:result>SUCCESS</ns6:result>
<ns6:resultDetail>Network edited</ns6:resultDetail>
<ns6:resultCode>REASON_0</ns6:resultCode>
</ns6:Status>

6.8.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Unrecoverable failure at Network.

400 (Error)

REASON_20

Unrecoverable timeout failure at Network.

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_210

Network name already taken within organization.

400 (Error)

REASON_250

Could not find network for ID for {org-id}.

400 (Error)

REASON_320

Invalid input data:
name, if specified, exceeds 75 chars
description, if specified, exceeds 255 chars.

400 (Error)

REASON_601

Operation in progress on Network {network-id}.



6.9. List Deployed Servers on Network with Disks
6.9.1. Description
This function provides a list of all currently deployed Customer Servers located on a specific network.
It deprecates the previous List Deployed Servers on Network with Software Labels function by
including detailed information on any additional storage that has been added to the server using the Add
Storage to Server function.
Storage information is provided as a set of <additionalDisk> elements:
•

•

Each <additionalDisk> element has four child elements; a unique <id>, a <scsiId> element
reflecting the position of the disk on the SCSI bus, <diskSizeGb> giving the gigabyte size of the
volume and <state>.
<state> will be NORMAL during the operational life of the disk but will have other values when the
disk is in a transitionary state like being added to or removed from the server.

Priced Software information is provided as an optional set of <softwareLabel> elements:
•
•

Each <softwareLabel> element contains a single, string key uniquely identifying an item on the
List Software Labels function.
Only servers deployed from an OS Image or Customer Image with Priced Software installed will
have any <softwareLabel> elements present.

Each virtual server returned by this function can include additional information regarding the status of
VMware Tools. VMware Tools status information is provided as an optional set of <machineStatus>
elements.
•
•

Each <machineStatus> element has a name attribute defining the status item. For example:
name=“vmwareToolsRunningStatus”.
Each <machineStatus> element contains a single <value> child element, itself containing a text
value defining the status for the provided name attribute. For example:
<value>STARTING</value> could be returned for the "vmwareToolsRunningStatus" status item.

The following items define the initial set of machineStatus items that could be returned for a given
machine:
Machine Status Item Name Description
vmwareToolsVersionStatus

Indicates if VMware tools is installed. If installed this property indicates
whether or not the version is up-to-date.

vmwareToolsRunningStatus

Indicates if VMware tools are running, started, stopped or that the running
status is unknown.

vmwareToolsApiVersion

The API version of VMware Tools. e.g. 8195. Note this machine status item
can be returned with a value of "0". A “0” is explicitly returned by Vmware
meaning that the VMware Tools API version on the target server could not
be determined by VMware. The API version can also be returned directly as
"Unknown" if VMware returned no value for this status item. Both scenarios
can be interpreted as VMware being unable to determine the exact VMware
Tools API version.

Note it is not possible to execute the Clone Server to Create Customer Image, Shutdown Server
(Graceful Stop) or Reboot Server functions if it is detected that VMware Tools is not installed on the
target server. VMware Tools must be installed.

6.9.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/server/deployedWithDisks

Request Type

HTTP GET

6.9.3. Response Details (descriptive – includes all optional)
<DeployedServersWithDisks xmlns="http://oec.api.opsource.net/schemas/server">
<!--Zero or more repetitions:-->
<DeployedServerWithDisks>
<id>string</id>


<name>string</name>
<!--Optional:-->
<description>string</description>
<machineSpecification>
<cpuCount>1</cpuCount>
<memoryMb>2048</memoryMb>
<osStorageGb>10</osStorageGb>
<additionalLocalStorageGb>11</additionalLocalStorageGb>
<operatingSystem>
<type>string</type>
<displayName>string</displayName>
</operatingSystem>
</machineSpecification>
<sourceImageId>string</sourceImageId>
<networkId>string</networkId>
<privateIpAddress>string</privateIpAddress>
<!--Optional:-->
<publicIpAddress>string</publicIpAddress>
<machineName>string</machineName>
<!--true or false -->
<isStarted>false</isStarted>
<!--Optional:-->
<deployedTime>2012-01-05T16:53:33.182Z</deployedTime>
<!--Optional:-->
<status>
<action>string</action>
<requestTime>2004-02-14T18:44:14</requestTime>
<userName>string</userName>
<!--Optional:-->
<numberOfSteps>3</numberOfSteps>
<!--Optional:-->
<updateTime>2018-11-01T05:36:46+00:00</updateTime>
<!--Optional:-->
<step>
<name>string</name>
<number>3</number>
<!--Optional:-->
<percentComplete>3</percentComplete>
</step>
<!--Optional: (present only if the last operation failed and left
the server in a locked state) -->
<failureReason>text - e.g. Additional local storage could not be
added because...</failureReason>
</status>
<!--Optional multi-occuring :-->
<machineStatus name="vmwareToolsVersionStatus">
<value>CURRENT</value>
</machineStatus>
<machineStatus name="vmwareToolsRunningStatus">
<value>RUNNING</value>
</machineStatus>
<machineStatus name="vmwareToolsApiVersion">
<value>8290</value>
</machineStatus>
<!--Optional multi-occuring :-->
<softwareLabel>Software Package A</softwareLabel>
<!--Optional multi-occuring :-->
<additionalDisk>
<id>string</id>
<scsiId>2</scsiId>
<diskSizeGb>10</diskSizeGb>
<state>NORMAL</state>
</additionalDisk>
<additionalDisk>
<id>string</id>
<scsiId>1</scsiId>
<diskSizeGb>11</diskSizeGb>
<state>NORMAL</state>
</additionalDisk>


</DeployedServerWithDisks>
</DeployedServersWithDisks>

6.9.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_250

Could not find network for ID for {org-id}.

0

6.10. List Pending Deployment Servers on Network with Disks
6.10.1. Description
This function identifies servers that are in the process of deployment (i.e. in the process of being cloned
from an image) on a particular network and status of each server deployment in progress. The response is
similar to the List Pending Deployment Servers function but also includes detailed information on the
any additional storage attached to the server.
•

The mandatory <status> section identifies the progress being made on the deployment. The
<action> element will always identify a pending deployment, including the <requestTime> and
what <username> requested it. The optional <step> information provides progress information
on each step in the deployment (i.e. queue, clone, guest o/s customization). The <step> and
<number of Steps> elements identify which step the action is in and how many steps need to be
performed. <percentComplete> identifies how far along the step is, when available. Since these
updates will not be in real-time, a <updateTime> field identifies the time of the last update.

•

The <failureReason> element is populated only if the server deployment failed and left the
resulting server in an unrecoverable state. The Clean Failed Server Deployment API can be
used to remove such failed deployments.

Priced Software information is provided as an optional set of <softwareLabel> elements:
•
•

Each <softwareLabel> element contains a single, string key uniquely identifying an item on the
List Software Labels function.
Only servers deployed from an OS Image or Customer Image with Priced Software installed will
have any <softwareLabel> elements present.

Storage information is provided as a set of <additionalDisk> elements:
•

•

Each <additionalDisk> element has four child elements; a unique <id>, a <scsiId> element
reflecting the position of the disk on the SCSI bus, <diskSizeGb> giving the gigabyte size of the
volume and <state>.
<state> will be NORMAL during the operational life of the disk but will have other values when
the disk is in a transitionary state like being added to or removed from the server.

6.10.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/server/pendingDeployWithDisks

Request Type

HTTP GET

6.10.3. Response Details (descriptive – includes all optional)
<PendingDeployServersWithDisks>
<!--Zero or more repetitions:-->
<PendingDeployServerWithDisks>
<id>string</id>
<name>string</name>
<!--Optional:-->
<description>string</description>
<machineSpecification>
<cpuCount>3</cpuCount>
<memoryMb>4096</memoryMb>
<osStorageGb>10</osStorageGb>
<additionalLocalStorageGb>10</additionalLocalStorageGb>
<operatingSystem>
<type>string</type>
<displayName>string</displayName>
</operatingSystem>
</machineSpecification>
<sourceImageId>string</sourceImageId>
<networkId>string</networkId>
<privateIpAddress>string</privateIpAddress>
<status>
<action>string</action>
<requestTime>2008-09-29T02:49:45</requestTime>
1

<userName>string</userName>
<!--Optional:-->
<numberOfSteps>3</numberOfSteps>
<!--Optional:-->
<updateTime>2014-09-19T00:18:33</updateTime>
<!--Optional:-->
<step>
<name>string</name>
<number>3</number>
<!--Optional:-->
<percentComplete>3</percentComplete>
</step>
<!--Optional: (present only if the deploy operation failed and
left the server in a locked state) -->
<failureReason>text - e.g. Guest OS customization
failed</failureReason>
</status>
<!--Zero or more repetitions:-->
<softwareLabel>string</softwareLabel>
<!--Zero or more repetitions:-->
<additionalDisk>
<id>string</id>
<scsiId>string</scsiId>
<diskSizeGb>10</diskSizeGb>
<state>string</state>
</additionalDisk>
</PendingDeployServerWithDisks>
</PendingDeployServersWithDisks>

6.10.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_250

Could not find network for ID for {org-id}.

2

6.11. List ACL Rules
6.11.1. Description
Retrieves the list of ACL rules associated with a network. This API requires your organization ID and the
ID of the target network.

6.11.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{net-id}/aclrule

Request Type

HTTP GET

6.11.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns4:AclRuleList xmlns:ns2="http://oec.api.opsource.net/schemas/organization"
.. >
<ns4:name>ALL_ACL</ns4:name>
<ns4:AclRule>
<ns4:id>1f0311d0-b874-413e-9c6d-18d35f62ca4d</ns4:id>
<ns4:name>default-98</ns4:name>
<ns4:status>NORMAL</ns4:status>
<ns4:position>98</ns4:position>
<ns4:action>DENY</ns4:action>
<ns4:protocol>TCP</ns4:protocol>
<ns4:sourceIpRange/>
<ns4:destinationIpRange/>
<ns4:portRange>
<ns4:type>EQUAL_TO</ns4:type>
<ns4:port1>587</ns4:port1>
</ns4:portRange>
<ns4:type>INSIDE_ACL</ns4:type>
</ns4:AclRule>
:
</ns4:AclRule>
<ns4:AclRule>
<ns4:id>e4d9-4249 </ns4:id>
<ns4:name>default-102</ns4:name>
<ns4:status>NORMAL</ns4:status>
<ns4:position>102</ns4:position>
<ns4:action>PERMIT</ns4:action>
<ns4:protocol>TCP</ns4:protocol>
<ns4:sourceIpRange/>
<ns4:destinationIpRange/>
<ns4:portRange>
<ns4:type>EQUAL_TO</ns4:type>
<ns4:port1>443</ns4:port1>
</ns4:portRange>
<ns4:type>OUTSIDE_ACL</ns4:type>
</ns4:AclRule>
</ns4:AclRuleList>

6.11.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_250

Network does not exist for {org-id}.

3

6.11.5. Delete ACL Rule
6.11.6. Description
Deletes a specified ACL rule. This API requires your organization ID, the ID of the target network and the
ID of the rule.
Note: If the Cisco hardware is under heavy load when a Delete ACL Rule request is processed it is
possible for a timeout to occur. In this situation the ACL rule deletion usually completes successfully but an
error code REASON_292 will be returned to indicate that the ACL rule is in a pending state and a support
case should be opened for it to be removed.

6.11.7. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{netid}/aclrule/{acl-id}?delete

Request Type

HTTP GET

6.11.8. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns6:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" .. >
<ns6:operation>Delete Acl Rule</ns6:operation>
<ns6:result>SUCCESS</ns6:result>
<ns6:resultDetail>ACL Rule deleted</ns6:resultDetail>
<ns6:resultCode>REASON_0</ns6:resultCode>
</ns6:Status>

6.11.9. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Unrecoverable failure at Network.

400 (Error)

REASON_20

Unrecoverable timeout failure at Network.

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_250

Network does not exist for {org-id}.

400 (Error)

REASON_280

ACL Rule does not exist.

400 (Error)

REASON_292

ACL Rule is in a pending state.

400 (Error)

REASON_601

Operation in progress on ACL Rule {acl-id} or Network {network-id}.

400 (Error)

REASON_750

Organization has insufficient trust level.

4

6.12. Create ACL Rule
6.12.1. Description
Creates a new ACL rule at a specified line using your organization ID and the ID of the target network. It is
possible to create both inbound (OUTSIDE_ACL) and outbound (INSIDE_ACL) rule types. For more
details, please review the Community documentation on ACL rules:
https://community.opsourcecloud.net/View.jsp?procId=8c60a5e435a52f29ecc4944f93e7681d

6.12.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/aclrule

Request Type

HTTP POST

Notes for both, <sourceIpRange> and <destinationIpRange>:
•

If no <ipAddress> is supplied the assumption is that any IP address is allowed.

•

If an <ipAddress> is supplied and a <netmask> is not supplied, <ipAddress> must represent a
single host.

•

If an <ipAddress> is supplied and a <netmask> is supplied, <ipAddress> must be the CIDR
boundary for the network.

Request Data
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<AclRule xmlns="http://oec.api.opsource.net/schemas/network">
<!-- mandatory, string, cannot exceed 60 chars in length -->
<name>MyAclRuleName</name>
<!-- mandatory, integer, valid range is 100-500 inclusive -->
<position>110</position>
<!-- mandatory, string, one of (PERMIT,DENY) -->
<action>PERMIT_or_DENY_mandatory</action>
<!-- mandatory, string, one of (IP,ICMP,TCP,UDP) -->
<protocol>IP</protocol>
<sourceIpRange>
<!-- optional, string, IPv4 dot decimal format. -->
<!-- either an host IP Address or the valid CIDR boundary when a
netmask is also specified below. -->
<ipAddress>192.168.3.0</ipAddress>
<!-- optional, string, IPv4 dot decimal format -->
<netmask>255.255.255.0</netmask>
</sourceIpRange>
<destinationIpRange>
<!-- optional, string, IPv4 dot decimal format -->
<!-- either an host IP Address or the valid CIDR boundary when a
netmask is also specified below. -->
<ipAddress>192.168.3.0</ipAddress>
<!-- optional, string, IPv4 dot decimal format -->
<netmask>255.255.255.0</netmask>
</destinationIpRange>
<portRange>
<!-- mandatory, string, one of
(ALL,EQUAL_TO,RANGE,GREATER_THAN,LESS_THAN) -->
<type>RANGE</type>
<!-- optional, integer, 1-65535 -->
<port1>9090</port1>
<!-- optional, integer, 1-65535 -->
<port2>9099</port2>
</portRange>
<!-- optional, one of (OUTSIDE_ACL,INSIDE_ACL). Default if not specified
is OUTSIDE_ACL -->
<type>OUTSIDE_ACL</type>
</AclRule>

5

6.12.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns4:AclRule xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns4:id>e0b97377-9deb-4237-8abe-d68c48f390e4</ns4:id>
<ns4:name>default-102</ns4:name>
<ns4:status>NORMAL</ns4:status>
<ns4:position>102</ns4:position>
<ns4:action>PERMIT</ns4:action>
<ns4:protocol>TCP</ns4:protocol>
<ns4:sourceIpRange/>
<ns4:destinationIpRange/>
<ns4:portRange>
<ns4:type>EQUAL_TO</ns4:type>
<ns4:port1>443</ns4:port1>
</ns4:portRange>
<type>OUTSIDE_ACL</type>
</ns4:AclRule>

6.12.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Unrecoverable failure at Network.

400 (Error)

REASON_20

Unrecoverable timeout failure at Network.

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_250

Network does not exist for {org-id}.

400 (Error)

REASON_290

A rule is already configured for the specified line.

400 (Error)

REASON_291

Invalid Port specified.

400 (Error)

REASON_293

ACL Rule already exists.

400 (Error)

REASON_294

Invalid ACL Rule position.

400 (Error)

REASON_320

Invalid Input Data.

400 (Error)

REASON_601

Operation in progress on Network {network-id}.

400 (Error)

REASON_750

Organization has insufficient trust level.

6

6.13. List NAT Rules
6.13.1. Description
Retrieves a list of NAT rules for a specified network. This API requires your organization ID and the ID of
the target network.

6.13.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{net-id}/ natrule

Request Type

HTTP GET

6.13.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns4:NatRules xmlns:ns2="http://oec.api.opsource.net/schemas/organization"
xmlns="http://oec.api.opsource.net/schemas/server" .. >
<ns4:NatRule>
<ns4:id>4514-a25a</ns4:id>
<ns4:name>10.147.15.11</ns4:name>
<ns4:natIp>63.88.83.145</ns4:natIp>
<ns4:sourceIp>10.147.15.11</ns4:sourceIp>
</ns4:NatRule>
:
<ns4:NatRule>
<ns4:id>0958-419e</ns4:id>
<ns4:name>10.147.15.12</ns4:name>
<ns4:natIp>63.88.83.147</ns4:natIp>
<ns4:sourceIp>10.147.15.12</ns4:sourceIp>
</ns4:NatRule>
</ns4:NatRules>

6.13.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_250

Network does not exist for {org-id}.

7

6.14. Create NAT rule
6.14.1. Description
Creates a new NAT rule for a specified network. This API requires your organization ID and the ID of the
target network.
The XML structured request requires a <name> element describing the NAT Rule and a <sourceIp>
which is the underlying private IP address that the public IP address (<natIp>) returned in the response
will be assigned to.
Note that IP addresses *.0 through *.10 are reserved and cannot be used as <sourceIp> values. The
available range is *.11 to *.254. For example “10.147.15.11” in the sample request below. An attempt to
specify one of the reserved addresses as the <sourceIp> will result in a REASON_240 reason code being
returned.

6.14.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{net-id}/natrule

Request Type

HTTP POST

Request Data
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<NatRule xmlns="http://oec.api.opsource.net/schemas/network">
<name>10.147.15.11</name>
<sourceIp>10.147.15.11</sourceIp>
</NatRule>

6.14.3. Response Details
?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns4:NatRule xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns4:id>738442d9-5cc8-4bac-98bd-b7df9230f91c</ns4:id>
<ns4:name>10.147.15.11</ns4:name>
<ns4:natIp>63.88.83.151</ns4:natIp>
<ns4:sourceIp>10.147.15.11</ns4:sourceIp>
</ns4:NatRule>

6.14.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Unrecoverable failure at Network.

400 (Error)

REASON_11

Potentially Recoverable Failure. The call can be retried - contact
support if the failure persists more than a couple of times.

400 (Error)

REASON_20

Unrecoverable timeout failure at Network.

400 (Error)

REASON_240

Private IP is not in network.

400 (Error)

REASON_241

The IP address {0} is already reserved.

400 (Error)

REASON_250

Network does not exist for {org-id}.

400 (Error)

REASON_272

There is already a NAT in place on source IP.

400 (Error)

REASON_310

No Public IP addresses available for network.

400 (Error)

REASON_320

Invalid Input Data - SourceIP: {<sourceIp>} must be a valid IPv4
address.

400 (Error)

REASON_601

Operation in progress on network {network-id}.

8

6.15. Delete NAT rule
6.15.1. Description
Deletes an existing NAT rule for a specified network. This API requires your organization ID, the ID of the
target network and the ID of the NAT rule to be deleted.

6.15.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/natrule/{natrule-id}?delete

Request Type

HTTP GET

6.15.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns6:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" .. >
<ns6:operation>Delete Nat Rule</ns6:operation>
<ns6:result>SUCCESS</ns6:result>
<ns6:resultDetail>NAT Rule deleted</ns6:resultDetail>
<ns6:resultCode>REASON_0</ns6:resultCode>
</ns6:Status>

6.15.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Unrecoverable failure at Network.

400 (Error)

REASON_11

Potentially Recoverable Failure. The call can be retried - contact
support if the failure persists more than a couple of times.

400 (Error)

REASON_20

Unrecoverable timeout failure at Network.

400 (Error)

REASON_250

Network does not exist for {org-id}.

400 (Error)

REASON_260

NAT Rule does not exist.

400 (Error)

REASON_270

Could not find NAT rule {natrule-id} in Network {network-id}.

400 (Error)

REASON_271

Operation already in progress on this NAT Rule.

400 (Error)

REASON_601

Operation is in progress on Network {network-id}.

9

6.16. Get Network Configuration
6.16.1. Description
Lists configuration information for the specified network. Includes public IP blocks and all private IPs in
use.

6.16.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/config

Request Type

HTTP GET

6.16.3.
6.16.4. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns4:NetworkConfiguration
xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns4:network>
<ns4:id>72419350-9684-40dc-984e-94187b636b5a</ns4:id>
<ns4:resourcePath>/oec/4e8b-88d1/network/40dc-984e</ns4:resourcePath>
<ns4:name>A Network</ns4:name>
<ns4:description>This is a network</ns4:description>
<ns4:multicast>false</ns4:multicast>
</ns4:network>
<ns4:hostName>c12ap2ag1ash01</ns4:hostName>
<ns4:agg>1</ns4:agg>
<ns4:location>ash01</ns4:location>
<ns4:context>12</ns4:context>
<ns4:acePair>2</ns4:acePair>
<ns4:intVlan>612</ns4:intVlan>
<ns4:outVlan>212</ns4:outVlan>
<ns4:publicSnat>168.143.81.112</ns4:publicSnat>
<ns4:privateSnat>10.163.245.112</ns4:privateSnat>
<ns4:privateNet>10.162.112.0</ns4:privateNet>
<ns4:publicIps>
<ns4:IpBlock>
<ns4:id>e8b11d7f-02c3-4234-a8e6-377a7300d581</ns4:id>
<ns4:baseIp>168.143.85.32</ns4:baseIp>
<ns4:subnetSize>8</ns4:subnetSize>
<ns4:networkDefault>true</ns4:networkDefault>
</ns4:IpBlock>
<ns4:IpBlock>
<ns4:id>883a72cd-21b0-49f1-a6eb-e5c2fcd7bbc7</ns4:id>
<ns4:baseIp>168.143.90.32</ns4:baseIp>
<ns4:subnetSize>8</ns4:subnetSize>
<ns4:networkDefault>false</ns4:networkDefault>
</ns4:IpBlock>
<ns4:IpBlock>
<ns4:id>ac915085-d5ea-48ee-b102-e32998de1487</ns4:id>
<ns4:baseIp>168.143.90.248</ns4:baseIp>
<ns4:subnetSize>8</ns4:subnetSize>
<ns4:networkDefault>false</ns4:networkDefault>
</ns4:IpBlock>
</ns4:publicIps>
<ns4:privateIps>
<ns4:subnetSize>255</ns4:subnetSize>
<ns4:Ip>10.162.112.10</ns4:Ip>
<ns4:Ip>10.162.112.11</ns4:Ip>
</ns4:privateIps>
</ns4:NetworkConfiguration>

6.16.5. Fault Codes
HTTP Code

Reason Code


Description0

400 (Error)

REASON_250


Network does not exist for {org-id}.
1

6.17.

Get Network Configuration with Location

Lists configuration information for the specified network. Includes the data center location of the network,
public IP blocks and all private IPs in use.

6.17.1. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/networkWithLocation/{networkid}/config

Request Type

HTTP GET

6.17.2. Response Details
<?xml version="1.0" encoding="UTF-8"?>
<ns4:NetworkConfigurationWithLocation
xmlns:ns4="http://oec.api.opsource.net/schemas/network" .. >
<ns4:id>2f7460d4-6516-4c45-a3c8-591e70b4ec54</ns4:id>
<ns4:name>Network B</ns4:name>
<ns4:description>Network B Description</ns4:description>
<ns4:location>NA1</ns4:location>
<ns4:privateNet>10.157.10.0</ns4:privateNet>
<ns4:multicast>false</ns4:multicast>
<ns4:privateSnat>10.156.245.10</ns4:privateSnat>
<ns4:publicSnat>169.143.92.10</ns4:publicSnat>
<ns4:publicIps>
<ns4:IpBlock>
<ns4:id>2b8b10f7-d67e-46bc-9677-76a64bc736cd</ns4:id>
<ns4:baseIp>169.143.92.104</ns4:baseIp>
<ns4:subnetSize>8</ns4:subnetSize>
<ns4:networkDefault>true</ns4:networkDefault>
<ns4:serverToVipConnectivity>false</ns4:serverToVipConnectivity>
</ns4:IpBlock>
</ns4:publicIps>
<ns4:privateIps>
<ns4:subnetSize>255</ns4:subnetSize>
<ns4:Ip>10.157.10.1</ns4:Ip>
<ns4:Ip>10.157.10.2</ns4:Ip>
<ns4:Ip>10.157.10.3</ns4:Ip>
<ns4:Ip>10.157.10.4</ns4:Ip>
<ns4:Ip>10.157.10.5</ns4:Ip>
<ns4:Ip>10.157.10.6</ns4:Ip>
<ns4:Ip>10.157.10.7</ns4:Ip>
<ns4:Ip>10.157.10.8</ns4:Ip>
<ns4:Ip>10.157.10.9</ns4:Ip>
<ns4:Ip>10.157.10.10</ns4:Ip>
<ns4:Ip>10.157.10.11</ns4:Ip>
<ns4:Ip>10.157.10.12</ns4:Ip>
<ns4:Ip>10.157.10.13</ns4:Ip>
<ns4:Ip>10.157.10.14</ns4:Ip>
<ns4:Ip>10.157.10.15</ns4:Ip>
<ns4:Ip>10.157.10.16</ns4:Ip>
<ns4:Ip>10.157.10.17</ns4:Ip>
<ns4:Ip>10.157.10.18</ns4:Ip>
<ns4:Ip>10.157.10.19</ns4:Ip>
<ns4:Ip>10.157.10.20</ns4:Ip>
<ns4:Ip>10.157.10.21</ns4:Ip>
<ns4:Ip>10.157.10.22</ns4:Ip>
<ns4:Ip>10.157.10.25</ns4:Ip>
<ns4:Ip>10.157.10.29</ns4:Ip>
<ns4:Ip>10.157.10.0</ns4:Ip>
<ns4:Ip>10.157.10.255</ns4:Ip>
</ns4:privateIps>
</ns4:NetworkConfigurationWithLocation>

6.17.3. Fault Codes
HTTP Code

Reason Code


Description2

400 (Error)

REASON_250


Network does not exist for {org-id}.
3

6.18.

Reserve Public IP Block with Size

6.18.1. Description
Obtains an additional Public IP block and assigns it to the referenced network.
This function deprecates the previous Reserve Public IP Block function by including a number of
<additionalInformation> elements defining the newly reserved public IP block, described in the
Response Details below.

6.18.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/publicip?reserveNewWithSize

Request Type

HTTP GET

6.18.3. Response Details
The “name” attribute of each <additionalInformation> element describes the content of its single <value>
child element.
Initially the response will include <additionalInformation> elements with the following values for their
“name” attributes:
•

ipBlock.id (the UUID within the system of the newly reserved IP block)

•

ipBlock.baseIp

•

ipBlock.size

The sample response below shows an ipBlock.size of “2” with an ipBlock.baseIp of “168.43.20.64”;
indicating that the reserved block consists of the IP addresses:
•

168.43.20.64

•

168.43.20.65

Note that the number of <additionalInformation> elements returned may increase in a later release.
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Status xmlns="http://oec.api.opsource.net/schemas/general">
<operation>Reserve New Public IP Block</operation>
<result>SUCCESS</result>
<resultDetail>Public IP block with base IP 168.43.20.64 is
reserved</resultDetail>
<resultCode>REASON_0</resultCode>
<!-- UUID of the newly reserved IP block -->
<additionalInformation name="ipBlock.id"><value>26cafdc4-66ad-11e1-b5d60030487e0302</value></additionalInformation>
<additionalInformation
name="ipBlock.baseIp"><value>168.43.20.64</value></additionalInformation>
<additionalInformation
name="ipBlock.size"><value>2</value></additionalInformation>
</Status>

6.18.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at Network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_250

Network does not exist for {org-id}.

400 (Error)

REASON_330

No IP blocks are available. Location: {NETWORK_LOCATION}, Agg:
{NETWORK_AGG}.

400 (Error)

REASON_601

Operation in progress on IP Block {ipblock-id} or Network {networkid}.

4

6.19. Release Public IP Block
6.19.1. Description
Returns a Public IP block to the pool. Note that you can not return the default IP block that was originally
supplied with the network. The id of an IP block can be obtained using the Get Network Configuration API.

6.19.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/publicip/{ipblock-id}?release

Request Type

HTTP GET

6.19.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns8:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns8:operation>Release Public IP Block</ns8:operation>
<ns8:result>SUCCESS</ns8:result>
<ns8:resultDetail>Public IP block 21b0-49f1 is released</ns8:resultDetail>
<ns8:resultCode>REASON_0</ns8:resultCode>
</ns8:Status>

6.19.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at Network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_250

Network does not exist for {org-id}.

400 (Error)

REASON_350

Cannot Release Default IP Block.

400 (Error)

REASON_360

IPs still in use in IP block {IP_BLOCK_LIST}.

400 (Error)

REASON_370

Could not find IP block {ipblock-id} in Network {network-id}.

400 (Error)

REASON_601

Operation in progress IP Block {ipblock-id} or Network {network-id}.

5

6.20. Set Server to VIP connectivity for Public IP Block
6.20.1. Description
Sets the Server to VIP status for a Public IP block. Server to VIP connectivity is turned off (“false”) by
default for each Public IP Block.
Note: there is a restriction on the number of Public IP blocks that can have Server to VIP connectivity
enabled. If an attempt is made to enable Server to VIP connectivity on a Public IP Block when the
maximum allowed has already been reached, a code REASON_342 response will be returned as
described in the Fault Codes section below.
For details please see the community documentation at:
https://community.opsourcecloud.net/View.jsp?procId=eac7ae92df01c23725fb0129a901c4c8

6.20.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/publicip/{ipblock-id}

Request Type

HTTP POST

Parameter Request Data (include only the field below)
serverToVipConnectivity=

“true” or “false”

6.20.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns9:Status xmlns:ns9="http://oec.api.opsource.net/schemas/general" .. >
<ns9:operation>Set Server To Vip Connectivity flag on Public IP
Block</ns9:operation>
<ns9:result>SUCCESS</ns9:result>
<ns9:resultDetail>Server To Vip Connectivity flag set on Public IP
Block</ns9:resultDetail>
<ns9:resultCode>REASON_0</ns9:resultCode>
</ns9:Status>

6.20.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at Network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_250

Network does not exist for {org-id}.

400 (Error)

REASON_320

Request parameter 'serverToVipConnectivity' is mandatory and
should be set to true or false.

400 (Error)

REASON_341

Server To Vip Connectivity flag on Public IP Block {ipblock-id} is
already set to {true|false}.

400 (Error)

REASON_342

Maximum number of Public IP Blocks with Server To Vip
Connectivity reached.

400 (Error)

REASON_370

Could not find IP block {ipblock-id} in Network {network-id}.

400 (Error)

REASON_601

Operation in progress on IP Block {ipblock-id} or Network {networkid}.

6

6.21. Multicast
6.21.1. Description
Enables or disables Multicast on a Network by posting a parameter with a value of true (Multicast enabled)
or false (Multicast disabled).

6.21.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/
{network-id}/multicast

Request Type

HTTP POST

Parameter Request Data
enabled=

May be set to “true” or “false”

6.21.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns8:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization"
<ns8:operation>Remove Probe from Server-Farm</ns8:operation>
<ns8:result>SUCCESS</ns8:result>
<ns8:resultDetail>Probe removed from Server-Farm</ns8:resultDetail>
<ns8:resultCode>REASON_0</ns8:resultCode>
</ns8:Status>

6.21.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at Network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_250

Network does not exist for {org-id}.

400 (Error)

REASON_320

Invalid value for {Enabled}. Missing; or not one of (true|false).

400 (Error)

REASON_372

Attempt to set multicast flag to its existing value.

400 (Error)

REASON_601

Network currently in some PENDING state.


117
>

7. VIP / Load-Balancing API
The VIP / Load Balancing API provides the ability to set up a VIP that applies to one or more servers.
Establishing a VIP requires multiple steps and uses Cisco nomenclature. For more details, please review
the Community documentation on VIP:
https://community.opsourcecloud.net/View.jsp?procId=d901d51f9af11c1fd74a95b2a7647401

7.1. List Real Servers
7.1.1. Description
Retrieves the set of real servers on a network.

7.1.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/realServer

Request Type

HTTP GET

7.1.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns5:RealServers xmlns:ns2="http://oec.api.opsource.net/schemas/organization">
<ns5:realServer>
<ns5:id>89ed-d74766c0dee1</ns5:id>
<ns5:name>RealServer1</ns5:name>
<ns5:serverId>ab49-2f96f8695345</ns5:serverId>
<ns5:serverName>rhel-0121-test-4</ns5:serverName>
<ns5:serverIp>10.162.103.13</ns5:serverIp>
<ns5:inService>true</ns5:inService>
</ns5:realServer>
<ns5:realServer>
<ns5:id>ab82-97ed0cdcb9f1</ns5:id>
<ns5:name>RealServer2</ns5:name>
<ns5:serverId>8375-5dcf52636cc5</ns5:serverId>
<ns5:serverName>rhel-0121-test-3</ns5:serverName>
<ns5:serverIp>10.162.103.12</ns5:serverIp>
<ns5:inService>true</ns5:inService>
</ns5:realServer>
</ns5:RealServers>

7.1.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_250

Network does not exist for {org-id}.

8

7.2. Create Real Server
7.2.1. Description
Cisco ACE configuration requires a Real Server (or rserver) to be defined for each physical server to be
included in a load-balanced server farm.

7.2.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/realServer

Request Type

HTTP POST

Request Data
<NewRealServer xmlns='http://oec.api.opsource.net/schemas/vip'>
<name>RealServer1</name>
<serverId>415a7f70-1008-42a3-8375-5dcf52636cc5</serverId>
<inService>true</inService>
</NewRealServer>

7.2.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns8:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ... >
<ns8:result>SUCCESS</ns8:result>
<ns8:resultDetail>Real-Server (id:b1a3aea6-37) created</ns8:resultDetail>
<ns8:resultCode>REASON_0</ns8:resultCode>
</ns8:Status>

7.2.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at Network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_250

Network does not exist for {org-id}.

400 (Error)

REASON_320

Invalid input data
- Invalid rserver name (max 64-char, no spaces, alpha-numeric)
- Name not unique within network
- Invalid value for inService (not true or false)
- Any missing element.

400 (Error)

REASON_393

<serverId> is already associated with a Real Server.

400 (Error)

REASON_395

<serverId> does not correspond to a deployed server within this
network.

400 (Error)

REASON_601

Operation in progress on Network {network-id}.

400 (Error)

REASON_602

Network already has maximum allowed number of Real Servers.

9

7.3. Delete Real Server
7.3.1. Description
Deletes only the real-server view of the server. The underlying VM remains.

7.3.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/realServer/{rserver-id}?delete

Request Type

HTTP GET

7.3.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns8:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns8:operation>Delete Real-Server</ns8:operation>
<ns8:result>SUCCESS</ns8:result>
<ns8:resultDetail>Real-Server (id: bfda-654d2) deleted</ns8:resultDetail>
<ns8:resultCode>REASON_0</ns8:resultCode>
</ns8:Status>

7.3.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at Network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_250

Network does not exist for {org-id}.

400 (Error)

REASON_601

An operation is in progress on Real Server {rserver-id} or on Network
{network-id}.

400 (Error)

REASON_610

{rserver-id} does not exist for {network-id}.

400 (Error)

REASON_615

{rserver-id} is associated with one or more Server Farms

0

7.4. Modify Real Server
7.4.1. Description
Provides support for changing the Real Server’s inService setting.

7.4.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/realServer/{rserver-id}

Request Type

HTTP POST

Parameter Request Data
inService=

May be set to true or false

7.4.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns8:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns8:result>SUCCESS</ns8:result>
<ns8:resultDetail>Real-Server (id:f010-4505) modified</ns8:resultDetail>
<ns8:resultCode>REASON_0</ns8:resultCode>
</ns8:Status>

7.4.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at Network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_250

Network does not exist for {org-id}.

400 (Error)

REASON_320

Invalid value for {inService} (must be one of “true” or “false”).

400 (Error)

REASON_601

{rserver-id} is in a PENDING state.

400 (Error)

REASON_610

{rserver-id} does not exist for {network-id}.

1

7.5. List Probes
7.5.1. Description
Lists the server probes that are currently available for managing VIPs.

7.5.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/probe

Request Type

HTTP GET

7.5.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns5:Probes xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns5:Probe>
<ns5:id>4a7310a1-a4b9-4d8d-8498-295257b8d2b7</ns5:id>
<ns5:name>tcp</ns5:name>
<ns5:type>TCP</ns5:type>
<ns5:probeIntervalSeconds>120</ns5:probeIntervalSeconds>
<ns5:errorCountBeforeServerFail>3</ns5:errorCountBeforeServerFail>
<ns5:successCountBeforeServerEnable>3
</ns5:successCountBeforeServerEnable>
<ns5:failedProbeIntervalSeconds>300</ns5:failedProbeIntervalSeconds>
<ns5:maxReplyWaitSeconds>10</ns5:maxReplyWaitSeconds>
</ns5:Probe>
<ns5:Probe>
<ns5:id>e36b6ad4-f3a1-45f1-aeb5-63d6e58d8b6b</ns5:id>
<ns5:name>udp</ns5:name>
<ns5:type>UDP</ns5:type>
<ns5:probeIntervalSeconds>120</ns5:probeIntervalSeconds>
<ns5:errorCountBeforeServerFail>3</ns5:errorCountBeforeServerFail>
<ns5:successCountBeforeServerEnable>3
</ns5:successCountBeforeServerEnable>
<ns5:failedProbeIntervalSeconds>300</ns5:failedProbeIntervalSeconds>
<ns5:maxReplyWaitSeconds>10</ns5:maxReplyWaitSeconds>
</ns5:Probe>
</ns5:Probes>

7.5.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_250

Network does not exist for {org-id}.

2

7.6. Create Probe
7.6.1. Description
Create a new server probe for use with Server Farms on a given network context.

7.6.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/probe

Request Type

HTTP POST

Request Data
<NewProbe xmlns="http://oec.api.opsource.net/schemas/vip">
<!-- Alphanumeric, no spaces, unique in network -->
<name>string</name>
<!-- One of (TCP, UDP, HTTP, HTTPS, ICMP) -->
<type>TCP</type>
<!-- Integer 15-65535 -->
<probeIntervalSeconds>integer</probeIntervalSeconds>
<!-- Integer 1-65535 -->
<errorCountBeforeServerFail>integer</errorCountBeforeServerFail>
<!-- Integer 1-65535 -->
<successCountBeforeServerEnable>integer</successCountBeforeServerEnable>
<!-- Integer 15-65535 -->
<failedProbeIntervalSeconds>integer</failedProbeIntervalSeconds>
<!-- Integer 2-65535 -->
<maxReplyWaitSeconds>integer</maxReplyWaitSeconds>
<!--Optional: mandatory if type is HTTP/HTTPS, Integer 0-999 for each of
lowerBound and upperBound -->
<statusCodeRange>
<lowerBound>integer</lowerBound>
<upperBound>integer</upperBound>
</statusCodeRange>
<!--Optional: mandatory if type is HTTP/HTTPS, one of (GET, HEAD) -->
<requestMethod>GET</requestMethod>
<!--Optional: only relevant if type is HTTP/HTTPS, Integer 1-65535-->
<port>integer</port>
<!--Optional: only relevant if type is HTTP/HTTPS, String, 255 chars max, no
spaces -->
<requestUrl>string</requestUrl>
<!--Optional: only relevant if type is HTTP/HTTPS, String, 255 chars max,
alphanumeric, spaces permitted -->
<matchContent>string</matchContent>
</NewProbe>

7.6.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns5:Status xmlns:ns5="http://oec.api.opsource.net/schemas/general" ... >
<ns5:result>SUCCESS</ns8:result>
<ns5:resultDetail>Probe (id:b1a3aea6-37) created</ns8:resultDetail>
<ns5:resultCode>REASON_0</ns8:resultCode>
</ns5:Status>

7.6.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_250

Network does not exist for {org-id}

400 (Error)

REASON_320

Invalid input data.

400 (Error)

REASON_601

Operation in progress on Network {network-id}.

3

400 (Error)

REASON_602


Network already has maximum amount of Probes.
4

7.7.

Modify Probe

7.7.1. Description
Modify an existing server probe on a given network context. Not all fields originally specified when creating
a probe can be modified. The fields available for update are displayed below, each is optional and any
subset of them may be supplied on the HTTP request as request parameters.

7.7.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/probe/{probe-id}

Request Type

HTTP POST

Parameter Request Data (include only fields being changed with “&” separating each parameter)
probeIntervalSeconds=

Optional, Integer 15-65535

errorCountBeforeServerFail=

Optional, Integer 1-65535

successCountBeforeServerEnable =

Optional, Integer 1-65535

failedProbeIntervalSeconds =

Optional, Integer 15-65535

maxReplyWaitSeconds=

Optional, Integer 2-65535

7.7.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns5:Status xmlns:ns5="http://oec.api.opsource.net/schemas/vips" ... >
<ns5:result>SUCCESS</ns8:result>
<ns5:resultDetail>Probe (id:b1a3aea6-37) modified</ns8:resultDetail>
<ns5:resultCode>REASON_0</ns8:resultCode>
</ns5:Status>

7.7.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_250

Network does not exist for {org-id}.

400 (Error)

REASON_320

At least one optional parameter must be supplied.

400 (Error)

REASON_320

Invalid input data – parameter data invalid.

400 (Error)

REASON_601

Operation in progress on Probe {probe-id} or Network {network-id}.

400 (Error)

REASON_620

{probe-id} does not exist within Network.

5

7.8. Delete Probe
7.8.1. Description
Delete a server probe from a given network context. Note it is not possible to delete a probe that is still
associated with a given Server Farm, first the probe must be removed from the Server Farm using the
Remove Probe from Server Farm API.

7.8.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/probe/{probe-id}?delete

Request Type

HTTP GET

7.8.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns5:Status xmlns:ns5="http://oec.api.opsource.net/schemas/vips" ... >
<ns5:result>SUCCESS</ns8:result>
<ns5:resultDetail>Probe (id:b1a3aea6-37) deleted</ns8:resultDetail>
<ns5:resultCode>REASON_0</ns8:resultCode>
</ns5:Status>

7.8.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_250

Network does not exist for {org-id}

400 (Error)

REASON_601

Operation in progress on Probe {probe-id} or Network {network-id}.

400 (Error)

REASON_620

{probe-id} does not exist within Network.

400 (Error)

REASON_625

{probe-id} is still associated with a Server Farm.

6

7.9. List Server Farms
7.9.1. Description
Lists Server Farms for a given network.

7.9.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/serverFarm

Request Type

HTTP GET

7.9.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns5:ServerFarms xmlns:ns2="http://oec.api.opsource.net/schemas/organization">
<ns5:serverFarm>
<ns5:id>c97530ba-bc65-413d-bb39-a28b355e717b</ns5:id>
<ns5:name>MySecondServerFarm</ns5:name>
<ns5:predictor>LEAST_CONNECTIONS</ns5:predictor>
</ns5:serverFarm>
<ns5:serverFarm>
<ns5:id>419ea541-8eb9-4d13-b21c-57476217c8ba</ns5:id>
<ns5:name>MyServerFarm</ns5:name>
<ns5:predictor>LEAST_CONNECTIONS</ns5:predictor>
</ns5:serverFarm>
</ns5:ServerFarms>

7.9.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_250

Network does not exist for {org-id}.

7

7.10. Get Server Farm Details
7.10.1. Description
Lists the Probes and Real Servers associated with a Server Farm.

7.10.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/serverFarm/{server-farm-id}

Request Type

HTTP GET

7.10.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns5:ServerFarm xmlns:ns2="http://oec.api.opsource.net/schemas/organization"
..>
<ns5:id>c97530ba-bc65-413d-bb39-a28b355e717b</ns5:id>
<ns5:name>MySecondServerFarm</ns5:name>
<ns5:predictor>LEAST_CONNECTIONS</ns5:predictor>
<ns5:probe>
<ns5:id>4a7310a1-a4b9-4d8d-8498-295257b8d2b7</ns5:id>
<ns5:name>tcp</ns5:name>
<ns5:type>TCP</ns5:type>
<ns5:probeIntervalSeconds>120</ns5:probeIntervalSeconds>
</ns5:probe>
<ns5:realServer>
<ns5:id>b2526632-e1dd-4511-9beb-78eb41c143d0</ns5:id>
<ns5:name>RealServer2</ns5:name>
<ns5:ipAddress>10.162.103.12</ns5:ipAddress>
<ns5:port>80</ns5:port>
<ns5:inService>true</ns5:inService>
</ns5:realServer>
</ns5:ServerFarm>

7.10.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_250

Network does not exist for {org-id}.

400 (Error)

REASON_630

Could not find Server Farm for {server-farm-id}.

8

7.11. Create Server Farm
7.11.1. Description
Cisco ACE configuration requires a Server Farm to be defined to support load-balancing of Real Servers.

7.11.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/serverFarm

Request Type

HTTP POST

Request Data
<NewServerFarm xmlns='http://oec.api.opsource.net/schemas/vip'>
<name>klodge2-ServerFarm1</name>
<probeId>4a7310a1-a4b9-4d8d-8498-295257b8d2b7</probeId>
<predictor>LEAST_CONNECTIONS</predictor>
<realServer>
<id>59bf107d-5ca5-4dac-89ed-d74766c0dee1</id>
<port>80</port>
</realServer>
</NewServerFarm>

7.11.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns8:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns8:operation>Create Server-Farm</ns8:operation>
<ns8:result>SUCCESS</ns8:result>
<ns8:resultDetail>Server-Farm (id: 2cef-4ab4) created</ns8:resultDetail>
<ns8:resultCode>REASON_0</ns8:resultCode>
</ns8:Status>

7.11.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_250

Network does not exist for {org-id}.

400 (Error)

REASON_320

Invalid Data: input xml does not conform to schema.

400 (Error)

REASON_320

Invalid Data: {name} cannot be "serverfarm" or “default” (case
insensitive).

400 (Error)

REASON_320

Invalid Data: name does not conform to criteria (alphanumeric, 64char max, no spaces).

400 (Error)

REASON_320

Invalid Data: name not unique within network.

400 (Error)

REASON_320

Invalid Data: predictor value invalid.

400 (Error)

REASON_320

Invalid Data: port value not an integer 1-65535.

400 (Error)

REASON_320

Invalid Data: non-unique realServer/port combination (only relevant if
multiple Real Servers are specified in XML).

400 (Error)

REASON_601

Operation in progress on Network {network-id}.

400 (Error)

REASON_602

Network already has maximum allowed number Server Farms.

400 (Error)

REASON_610

Real Server {id} invalid (does not exist within network).

400 (Error)

REASON_620

{probeId} invalid (does not exist within network).

9

7.12. Delete Server Farm
7.12.1. Description
Deletes only the Server Farm. The associated Real Servers remain.

7.12.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/serverFarm/{server-farm-id}?delete

Request Type

HTTP GET

7.12.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns8:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns8:operation>Delete Server-Farm</ns8:operation>
<ns8:result>SUCCESS</ns8:result>
<ns8:resultDetail>Deleted Server-Farm (id:d21-8aec-822)</ns8:resultDetail>
<ns8:resultCode>REASON_0</ns8:resultCode>
</ns8:Status>

7.12.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_250

Network does not exist for {org-id}.

400 (Error)

REASON_601

Operation is in progress on Server Farm {server-farm-id} or Network
{network-id}.

400 (Error)

REASON_630

Server Farm {server-farm-id} does not exist in network {network-id}.

400 (Error)

REASON_635

Server Farm {server-farm-id} is associated with a VIP

400 (Error)

REASON_636

Server Farm {server-farm-id} is associated with a Persistence Profile

400 (Error)

REASON_637

Server Farm {server-farm-id} is associated with a Real Server or
Probe

0

7.13. Add Real Server to Server Farm
7.13.1. Description
This is effectively a modify Server Farm API and therefore accepts its data as POST parameters. The
Server Farm is modified to include the additional Real Server.

7.13.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/serverFarm/{server-farm-id}/addRealServer

Request Type

HTTP POST

Request Data
realServerId=<real-server-id-to-be-added>
realServerPort=realServer-port

(optional - not present maps to "any")

7.13.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns8:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns8:operation>Add Real-Server to Server-Farm</ns8:operation>
<ns8:result>SUCCESS</ns8:result>
<ns8:resultDetail>Real Server added to Server Farm</ns8:resultDetail>
<ns8:resultCode>REASON_0</ns8:resultCode>
</ns8:Status>

7.13.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_250

Network does not exist for {org-id}.

400 (Error)

REASON_320

Invalid Data: {realServerId} must be supplied.

400 (Error)

REASON_320

Invalid Data: {realServerPort}, if specified must be in range 1-65535.

400 (Error)

REASON_320

Invalid Data: Real-Server {realServerId} has already been added to
Server-Farm {server-farm-id}.

400 (Error)

REASON_601

An operation is in progress on the target Server Farm {server-farmid} or Network {network-id}.

400 (Error)

REASON_610

{realServerId} does not exist in network.

400 (Error)

REASON_630

Server Farm {server-farm-id} does not exist in network {network-id}.

1

7.14. Remove Real Server from Server Farm
7.14.1. Description
This is effectively a modify Server Farm API and therefore accepts its data as POST parameters. The
Server Farm is modified to remove the Real Server. The Real Server itself remains available.

7.14.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/serverFarm/{server-farm-id}/removeRealServer

Request Type

HTTP POST

Note that realServerPort parameter can be optional depending on how the relationship between the Real
Server and Server Farm was originally defined. See Add Real Server to Server Farm for details.
Request Data
realServerId=<real-server-id-to-be-removed>
realServerPort=<real-server-port-to-be-removed>

7.14.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns8:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns8:operation>Remove Real-Server from Server-Farm</ns8:operation>
<ns8:result>SUCCESS</ns8:result>
<ns8:resultDetail>Real-Server removed from Server-Farm</ns8:resultDetail>
<ns8:resultCode>REASON_0</ns8:resultCode>
</ns8:Status>

7.14.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_250

Network does not exist for {org-id}.

400 (Error)

REASON_320

Invalid Input Data: The realServerId parameter must be supplied.

400 (Error)

REASON_320

Invalid Input Data: The realServerPort parameter must be a valid
port number.

400 (Error)

REASON_320

Invalid Input Data: The realServerPort parameter must be between 1
and 65535.

400 (Error)

REASON_320

Invalid Input Data: The {realServerId}, {realServerPort} combination
supplied does not match to any combination currently associated
with the Server Farm {server-farm-id}.

400 (Error)

REASON_601

An operation is in progress on Server Farm {server-farm-id} or
Network {network-id}.

400 (Error)

REASON_610

{realServerId} does not exist in network.

400 (Error)

REASON_630

Server Farm {server-farm-id} does not exist in network {network-id}.

2

7.15. Add Probe to Server Farm
7.15.1. Description
This is effectively a modify Server Farm API and therefore accepts its data as POST parameters. The
Server Farm is modified to include the referenced probe. Note that you will need to call the List Probes
API to obtain the IDs of all possible probes associated with the network.

7.15.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/serverFarm/{server-farm-id}/addProbe

Request Type

HTTP POST

Request Data
probeId=<id-of-probe-to-be-added>

7.15.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns8:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization"
<ns8:operation>Add Probe to Server-Farm</ns8:operation>
<ns8:result>SUCCESS</ns8:result>
<ns8:resultDetail>Probe added to Server Farm</ns8:resultDetail>
<ns8:resultCode>REASON_0</ns8:resultCode>
</ns8:Status>

..>

7.15.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_250

Network does not exist for {org-id}.

400 (Error)

REASON_320

Invalid Input Data: {probeId} must be supplied.
Invalid Input Data: {server-farm-id} already uses {probeId}.

400 (Error)

REASON_601

An operation is in progress on the target Server Farm {server-farmid} or Network {network-id}.

400 (Error)

REASON_620

Invalid Data: {probeId} is not a valid Probe in this {network-id}.

400 (Error)

REASON_630

Server Farm {server-farm-id} does not exist in network {network-id}.

3

7.16. Remove Probe from Server Farm
7.16.1. Description
This is effectively a modify Server Farm API and therefore accepts its data as POST parameters. The
Server Farm is modified to remove the referenced probe.

7.16.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/serverFarm/{server-farm-id}/removeProbe

Request Type

HTTP POST

Request Data
probeId=<id-of-probe-to-be-removed>

7.16.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns8:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization"
<ns8:operation>Remove Probe from Server-Farm</ns8:operation>
<ns8:result>SUCCESS</ns8:result>
<ns8:resultDetail>Probe removed from Server-Farm</ns8:resultDetail>
<ns8:resultCode>REASON_0</ns8:resultCode>
</ns8:Status>

..>

7.16.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_250

Network does not exist for {org-id}.

400 (Error)

REASON_320

Invalid Input Data: a Probe ID must be supplied.

400 (Error)

REASON_601

An operation is in progress on Server Farm {server-farm-id} or
Network {network-id}.

400 (Error)

REASON_620

Invalid Data: {probeId} is not a valid Probe in this {network-id}.

400 (Error)

REASON_630

Server Farm {server-farm-id} does not exist in network {network-id}.

4

7.17. Modify Server Farm Predictor
7.17.1. Description
Provides the means to change the load-balancing behavior of the server farm. As a modify API, this
accepts its input as POST parameters.

7.17.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/serverFarm/{server-farm-id}

Request Type

HTTP POST

Request Data
predictor=(LEAST_CONNECTIONS | ROUND_ROBIN)

7.17.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns8:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns8:operation>Modify Server-Farm</ns8:operation>
<ns8:result>SUCCESS</ns8:result>
<ns8:resultDetail>Modified Server-Farm</ns8:resultDetail>
<ns8:resultCode>REASON_0</ns8:resultCode>
</ns8:Status>

7.17.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_250

Network does not exist for {org-id}.

400 (Error)

REASON_320

Invalid {predictor} value.

400 (Error)

REASON_601

Server Farm {server-farm-id} currently in some PENDING state.

400 (Error)

REASON_630

Server Farm {server-farm-id} does not exist in network {network-id}.

5

7.18. List Persistence Profiles
7.18.1. Description
Lists all Persistence Profiles on a network.

7.18.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/persistenceProfile

Request Type

HTTP GET

7.18.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<PersistenceProfiles xmlns="http://oec.api.opsource.net/schemas/vip">
<PersistenceProfile>
<id>976f43d6-b725-4732-9c05-a746ad21ba03</id>
<state>NORMAL</state>
<name>PersistenceProfile1</name>
<serverFarmId>5b9e84d9-010e-4b9e-b9f6-a101af62a010</serverFarmId>
<serverFarmName>MyFirstServerFarm</serverFarmName>
<timeout>60</timeout>
<type>HTTP_COOKIE</type>
<cookieName>Cookie1</cookieName>
<cookieType>COOKIE_INSERT_BROWSER_EXPIRE</cookieType>
</PersistenceProfile>
<PersistenceProfile>
...
<type>IP_NETMASK</type>
<direction>BOTH</direction>
<netmask>255.255.255.0</netmask>
</PersistenceProfile>
</PersistenceProfiles>

7.18.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_250

Network does not exist for {org-id}.

6

7.19. Create Persistence Profile
7.19.1. Description
Creates a new Persistence Profile on a network (there is a maximum of twenty five Persistence Profiles
per network).

7.19.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/persistenceProfile

Request Type

HTTP POST

Request Data
1. IP Netmask (IP_NETMASK):
<NewPersistenceProfile xmlns='http://oec.api.opsource.net/schemas/vip'>
<!-- mandatory, unique in network -->
<name>persistenceProfileName</name>
<!-- mandatory, id of server farm deployed on network -->
<serverFarmId>server1-id</serverFarmId>
<timeoutMinutes>30</timeoutMinutes>
<!-- mandatory, one of HTTP_COOKIE, IP_NETMASK -->
<type>IP_NETMASK</type>
<!-- mandatory if type is IP_NETMASK, one of SOURCE, DESTINATION, BOTH -->
<direction>BOTH</direction>
<!-- mandatory if type is IP_NETMASK, valid cidr notation netmask -->
<netmask>255.255.255.0</netmask>
</NewPersistenceProfile>
2. HTTP Cookie (HTTP_COOKIE):
<NewPersistenceProfile xmlns='http://oec.api.opsource.net/schemas/vip'>
<!-- mandatory, unique in network -->
<name>persistenceProfile1Name</name>
<!-- mandatory, id of server farm deployed on network -->
<serverFarmId>server1-id</serverFarmId>
<timeoutMinutes>30</timeoutMinutes>
<!-- mandatory, one of HTTP_COOKIE, IP_NETMASK -->
<type>HTTP_COOKIE</type>
<!-- mandatory if type is HTTP_COOKIE, 64-char max -->
<cookieName>mycookiename</cookieName>
<!-- mandatory if type is HTTP_COOKIE, one of
COOKIE_INSERT,
COOKIE_INSERT_BROWSER_EXPIRE,
NO_COOKIE_INSERT-->
<cookieType>COOKIE_INSERT</cookieType>
</NewPersistenceProfile>

7.19.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns11:Status xmlns:ns11="http://oec.api.opsource.net/schemas/general">
<ns11:operation>Create Persistence-Profile</ns11:operation>
<ns11:result>SUCCESS</ns11:result>
<ns11:resultDetail>Persistence Profile (id:4bad8999-e0e3-476f-be2044faf06bbbaa) created</ns11:resultDetail>
<ns11:resultCode>REASON_0</ns11:resultCode>
</ns11:Status>

7.19.4. Fault Codes
HTTP Code

Reason Code


Description7

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_250

Network does not exist for {org-id}.

400 (Error)

REASON_320

Invalid Data: Xml does not conform to schema (e.g. missing
elements).

400 (Error)

REASON_320

Invalid Data: name does not conform to requirements (alphanumeric,
64-char max, no spaces).

400 (Error)

REASON_320

Invalid Data: name not unique in network.

400 (Error)

REASON_320

Invalid Data: Supplied Server Farm has insufficient (<2)
RealServers.

400 (Error)

REASON_320

Invalid Data: timeoutMinutes is required in minutes (1-480).

400 (Error)

REASON_320

Invalid Data: type mandatory and must be one of IP_NETMASK,
HTTP_COOKIE.

400 (Error)

REASON_320

Invaild Data: direction: must be specified if type is IP_NETMASK,
and one of SOURCE, DESTINATION or BOTH.

400 (Error)

REASON_320

Invalid Data: netmask: must be specified if type is IP_NETMASK,
and be a valid CIDR notation netmask.

400 (Error)

REASON_320

Invalid Data: cookieName: must be specified if type is
HTTP_COOKIE, 64-char max, no spaces.

400 (Error)

REASON_320

Invalid Data: cookieType: must be specified if type is
HTTP_COOKIE, one of COOKIE_INSERT,
COOKIE_INSERT_BROWSER_EXPIRE, NO_COOKIE_INSERT.

400 (Error)

REASON_601

Operation in progress on Network {network-id}.

400 (Error)

REASON_602

Network already has maximum allowed number of 25 Persistence
Profiles.

400 (Error)

REASON_630

The supplied {serverFarmId} does not exist (for network).

8

7.20. Delete Persistence Profile
7.20.1. Description
Deletes a Persistence Profile on a network.

7.20.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/persistenceProfile/{persistence-profile-id}?delete

Request Type

HTTP GET

7.20.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns11:Status xmlns:ns11="http://oec.api.opsource.net/schemas/general">
<ns11:operation>Delete Persistence-Profile</ns11:operation>
<ns11:result>SUCCESS</ns11:result>
<ns11:resultDetail>Persistence Profile (id:9cc5528b-2436-4cdf-85edb9179444e968) deleted</ns11:resultDetail>
<ns11:resultCode>REASON_0</ns11:resultCode>
</ns11:Status>

7.20.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_250

Network does not exist for {org-id}.

400 (Error)

REASON_601

Operation is in progress on Persistence Profile {persistence-profileid} or Network {network-id}.

400 (Error)

REASON_670

Persistence Profile does not exist (for network).

400 (Error)

REASON_675

Persistence Profile currently associated with one or more VIPS.

9

7.21. List VIPs
7.21.1. Description
Lists all VIPs in a network

7.21.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{network-id}/vip

Request Type

HTTP GET

7.21.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns5:Vips xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns5:vip>
<ns5:id>7d580733-6ead-4882-be84-4e27686a6e60</ns5:id>
<ns5:name>MyVIP</ns5:name>
<ns5:ipAddress>168.143.84.217</ns5:ipAddress>
<ns5:port>80</ns5:port>
<ns5:protocol>TCP</ns5:protocol>
<ns5:vipTargetType>SERVER_FARM</ns5:vipTargetType>
<ns5:vipTargetId>c97530ba-bc65-4b</ns5:vipTargetId>
<ns5:vipTargetName>MyServerFarm</ns5:vipTargetName>
<ns5:replyToIcmp>false</ns5:replyToIcmp>
<ns5:inService>true</ns5:inService>
</ns5:vip>
</ns5:Vips>

7.21.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_250

Network does not exist for {org-id}.

0

7.22. Create VIP
7.22.1. Description
In CISCO technology, VIP is the final resource required to complete a valid load-balancing configuration.
As a create API, this operation requires input to be provided as XML. The current API supports VIP targets
of type “SERVER_FARM” or “PERSISTENCE_PROFILE” and requires the vipTargetId to be a valid
serverFarmId or persistenceProfileId.

7.22.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{network-id}/vip

Request Type

HTTP POST

Note that <ipAddress> is optional. Uniqueness is defined by the combination of the IP address, port
number and protocol, so if an IP address is being supplied; the combination of protocol and/or port with the
IP address must differ from any VIPs already defined using the same IP address. If you do not supply an
IP address, the next available public IP address from your network's public IP block(s) will be assigned.
Request Data
<NewVip xmlns="http://oec.api.opsource.net/schemas/vip">
<name>MyVIP</name>
<ipAddress>206.80.41.190<ipAddress>
<port>80</port>
<protocol>TCP</protocol>
<vipTargetType>SERVER_FARM</vipTargetType>
<vipTargetId>c97530ba-a28b355e717b</vipTargetId>
<replyToIcmp>true</replyToIcmp>
<inService>true</inService>
</NewVip>

7.22.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns8:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns8:operation>Create VIP</ns8:operation>
<ns8:result>SUCCESS</ns8:result>
<ns8:resultDetail>VIP (id:7d580733-6ead) created</ns8:resultDetail>
<ns8:resultCode>REASON_0</ns8:resultCode>
</ns8:Status>

7.22.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_250

Network does not exist for {org-id}.

400 (Error)

REASON_310

No public IP address available.

400 (Error)

REASON_320

Invalid Data: Input XML does not conform to schema.

400 (Error)

REASON_320

Invalid Data: invalid name alphanumeric, 64-char max, no spaces.

400 (Error)

REASON_320

Invalid Data: name not unique in network.

400 (Error)

REASON_320

Invalid Data: ipAddress if specified, must be a valid IP address within
this network.

400 (Error)

REASON_320

Invalid Data: port must be in range 1-65535, and must not be used
by another VIP (in any state) using the same IP and protocol.

400 (Error)

REASON_320

Invalid Data: protocol must be one of TCP, UDP.

400 (Error)

REASON_320

Invalid Data: replyToIcmp must be true or false.

400 (Error)

REASON_320

Invalid Data: vipTargetType must be one of SERVER_FARM or
PERSISTENCE_PROFILE.

400 (Error)

REASON_320

Invalid Data: inService value must be true or false.

1

400 (Error)

REASON_601

Operation in progress on Network {network-id}.

400 (Error)

REASON_602

Network already has maximum allowed number of VIPs.

400 (Error)

REASON_630

{vipTargetId} invalid: if {vipTargetType} is SERVER_FARM.

400 (Error)

REASON_670

{vipTargetId} invalid: if {vipTargetType} is
PERSISTENCE_PROFILE.

2

7.23. Delete VIP
7.23.1. Description
Deletes a specified VIP

7.23.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/vip/{vip-id}?delete

Request Type

HTTP GET

7.23.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns8:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns8:operation>Delete VIP</ns8:operation>
<ns8:result>SUCCESS</ns8:result>
<ns8:resultDetail>Deleted VIP (id: 6ead-4882-be84-e60)</ns8:resultDetail>
<ns8:resultCode>REASON_0</ns8:resultCode>
</ns8:Status>

7.23.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_250

Network does not exist for {org-id}.

400 (Error)

REASON_601

Operation in progress on VIP {vip-id} or Network {network-id}.

400 (Error)

REASON_650

VIP does not exist within network.

3

7.24. Modify VIP
7.24.1. Description
Provides the means to modify the behavior of a VIP – Either bringing it in and out of service or whether it
responds to ping.

7.24.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/vip/{vip-id}

Request Type

HTTP POST

Request Data
inService=(true|false)
replyToIcmp=(true|false)

7.24.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns8:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns8:operation>Modify VIP</ns8:operation>
<ns8:result>SUCCESS</ns8:result>
<ns8:resultDetail>Modified VIP</ns8:resultDetail>
<ns8:resultCode>REASON_0</ns8:resultCode>
</ns8:Status>

7.24.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_250

Network does not exist for {org-id}.

400 (Error)

REASON_320

At least one of the parameters {inService} or {replyToIcmp} must be
set.

400 (Error)

REASON_320

Parameter value should be either “true” or “false”.

400 (Error)

REASON_601

Operation is in progress on VIP {vip-id} or Network {network-id}.

400 (Error)

REASON_650

VIP {vip-id} does not exist within network.

4

8. Files Account API
Provides a set of operations for creating, managing, and deleting Cloud Files accounts. Note that use of a
separate API is required to API to actually interact with the Files accounts. That API is described in the
separate Cloud Files API Documentation.

8.1. Create Files Account
8.1.1. Description
Creates a Cloud Files storage account. This API requires your organization ID. Both the userName and
the email fields must be unique across all storage accounts. In addition, the email field must be populated
with a valid email format (i.e. username@domain.com, username@domain.net, etc.). If these conditions
are not met, the system will return a REASON_320 error.

8.1.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/storageAccount

Request Type

HTTP POST

Request Data
<NewStorageAccount xmlns="http://oec.api.opsource.net/schemas/storage">
<userName>storage1</userName>
<password>abc12345678</password>
<!-- email must be unique per storage account -->
<email>storage1@example.com</email>
<allocatedStorageMb>20480</allocatedStorageMb>
<displayName>Storage Account 1</displayName>
<description>Storage Account 1 Description</description>
<subAdminUserName>user-1</subAdminUserName>
<subAdminUserName>user-2</subAdminUserName>
...
<subAdminUserName>user-n</subAdminUserName>
</NewStorageAccount>

8.1.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns6:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" .. >
<ns8:operation>Create Storage-Account</ns8:operation>
<ns8:result>SUCCESS</ns8:result>
<ns8:resultDetail>Storage-Account (username:storage1)
created</ns8:resultDetail>
<ns8:resultCode>REASON_0</ns8:resultCode>
</ns8:Status>

8.1.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_110

Sub-Administrative User was not found.

400 (Error)

REASON_250

Network does not exist for {org-id}.

400 (Error)

REASON_320

Invalid Input Data.

400 (Error)

REASON_681

Cloud Files is not available.

5

8.2.

List Files Accounts

8.2.1. Description
Lists the Cloud Files storage accounts belonging to your organization. This API requires your organization
ID.

8.2.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/storageAccount

Request Type

HTTP GET

8.2.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<StorageAccounts xmlns="http://oec.api.opsource.net/schemas/storage">
<storageAccount>
(0-to-many of these)
<userName>storageAccount1-userName</userName> (mandatory, unique)
<password>storageAccount1-password</password> (mandatory)
<allocatedStorageMb>11264</allocatedStorageMb> (mandatory)
<displayName>storageAccount1-displayName</displayName>
(mandatory,
unique in org)
<description>My Storage Account 1 Description</description> (optional)
<subAdminUsername>username1</subAdminUserName>
(optional)
<subAdminUserName>username2</subAdminUserName>
(optional)
<subAdminUserName>username3</subAdminUserName>
(optional)
</storageAccount>
<storageAccount>
<userName>storageAccount2-userName</userName>
...
</storageAccount>
<storageAccount>
<userName>storageAccount3-userName</userName>
...
</storageAccount>
</StorageAccounts>

8.2.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_681

Cloud Files is not available.

6

8.3. Delete Files Account
8.3.1. Description
Deletes a Cloud Files storage account. This API requires your organization ID and the username of the
Cloud Files storage account you’re deleting.

8.3.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/storageAccount/<filesaccount-username>?delete

Request Type

HTTP GET

8.3.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns6:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" .. >
<ns8:operation>Delete Storage-Account</ns8:operation>
<ns8:result>SUCCESS</ns8:result>
<ns8:resultDetail>Storage-Account (username:storage1)
deleted</ns8:resultDetail>
<ns8:resultCode>REASON_0</ns8:resultCode>
</ns8:Status>

8.3.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_601

Storage account currently in some PENDING state.

400 (Error)

REASON_680

Storage account does not exist/does not exist within for {org-id}.

400 (Error)

REASON_681

Cloud Files is not available.

7

8.4. Modify Files Account
8.4.1. Description
Modifies a Cloud Files storage account. This API requires your organization ID and the username of the
Cloud Files storage account you’re deleting.

8.4.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/storageAccount/<filesaccount-username>

Request Type

HTTP POST

Parameter Request Data (include only fields being changed with & separating each parameter)
displayName=

Name (metadata) of the Cloud Files Account

description=

Description (metadata) of the Cloud Files Account

email=

Email address corresponding to the Cloud Files Account. The email address
must be unique per Cloud Files Account and be valid email address format.

password=

Password of the Cloud Files Account. max 75 char, min 8 chars, contains both
upper and lower case characters, has digits and punctuation characters as well
as letters e.g., 0-9, !@#$%^*()_+|~-=\`{}[]:";'?,./) )

allocatedStorageMb=

Storage quota for the Cloud Files account. Value must be greated than 10 *
1024 (10 GB) and kless than 10 * 1024 * 1024 (10TB)

subAdminUserName=

Defines Sub-Administrators able to manage storage account. Note that using
the subAdminUserName parameter results in defining a new list of
subadministrators of the storage account, every other subadmin will be
excluded. In order to clear all subAdmins access to a storage account, send
parameter subAdminUsername with blank value.

8.4.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns6:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" .. >
<ns11:operation>Modify Storage-Account</ns11:operation>
<ns11:result>SUCCESS</ns11:result>
<ns11:resultDetail>Storage-Account (username:newusername)
modified</ns11:resultDetail>
<ns11:resultCode>REASON_0</ns11:resultCode>
</ns11:Status>

8.4.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_110

Sub-Administrative User was not found.

400 (Error)

REASON_320

Invalid Input Data.

400 (Error)

REASON_601

Storage account currently in some PENDING state.

400 (Error)

REASON_680

Storage account does not exist/does not exist within for {org-id}.

400 (Error)

REASON_681

Cloud Files is not available.

8

9. Reports API
Provides a set of operations for generating reports out of the Cloud system. Two important notes about
these functions:
1)

Note all Report API calls are currently restricted to the Primary Administrator

2)

Response is pure CSV (i.e. not the CSV wrapped in an xml element)

9.1. Summary Usage Report
9.1.1. Description
Provides a CSV-formatted daily usage report of the sum total usage across the account. Note the
function will return a maximum of 31 days of data. If the end date exceeds 31 days from the start date,
the system simply provides 31 days of data.
Important Note: an organization may have up to twenty concurrent requests in progress for the Summary
Usage Report. If the limit is exceeded an HTTP 429 – “Too Many Requests” response is returned. The
response body includes a “Status” XML payload, described in the Response Format section of this
document, with a REASON_529 error code.

9.1.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/
report/usage?startDate=YYYY-MM-DD&endDate=YYYY-MM-DD

Request Type

HTTP GET

9.1.3. Response Details
DAY,Location,CPU Hours,RAM Hours,Storage Hours,Performance Storage
Hours,Bandwidth In,Bandwidth Out,Sub-Admin Hours,Network Hours,Public IP
Hours,Cloud Files Account Hours,Cloud Files (GB Days),Software Units
01/01/2013,NA1,144,288,3360,264,0,0,72,24,0,0,0,0
02/01/2013,NA1,144,288,3360,264,0,0,72,24,0,0,0,0
03/01/2013,NA1,144,288,3360,264,0,0,72,24,0,0,0,0
04/01/2013,NA1,144,288,3360,264,0,0,72,24,0,0,0,0
05/01/2013,NA1,144,288,3360,264,0,0,72,24,0,0,0,0
06/01/2013,NA1,172,344,3958,264,0,0,72,24,0,0,0,0
07/01/2013,NA1,205,410,4783,264,0,0,72,24,0,0,0,0
08/01/2013,NA1,216,432,5136,264,0,0,72,24,0,0,0,0

9.1.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_520

Invalid Input Date(s).

429 (Too Many
Requests)

REASON_529

Concurrent request limit has been reached.

9

9.2. Detailed Usage Report
9.2.1. Description
Provides a CSV-formatted daily usage report identifying the specifics of all usage across the account,
including stop/start of servers and creation/deletion of objects. Note the function will return a maximum
of 31 days of data. If the end date exceeds 31 days from the start date, an error will be returned.
th

Note the April 19 , 2012 release added Public IP Hours information to the response.
Further information is available on the Cloud Community:
https://community.opsourcecloud.net/View.jsp?procId=b254b19238be01c40127cd81b420809c
Important Note: an organization may have a single request in progress for the Detailed Usage Report at
one time. Concurrent requests are not supported. An HTTP 429 – “Too Many Requests” response is
returned if an overlapping request is received. The response body includes a “Status” XML payload as
described in the Response Format section of this document, with a REASON_529 error code.

9.2.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/
report/usageDetailed?startDate=YYYY-MM-DD&endDate=YYYY-MM-DD

Request Type

HTTP GET

9.2.3. Response Details
Name,Type,Location,Private IP Address,Status,Start Time,End Time,Duration
(Hours),CPU Count,RAM (GB),Storage (GB),Performance Storage (GB),CPU Hours,RAM
Hours,Storage Hours,Performance Storage Hours,Bandwidth-In (GB),Bandwidth-Out
(GB),Subadmin Hours,Network Hours,Public IP Hours,Cloud Files Account
Hours,Cloud Storage (GB)
jay test 1,Server,NA1,10.157.110.12,Running,01/01/2013 00:00,02/01/2013
00:00,24,1,2,16,0,24,48,384,0,0,0,0,0,0,0,0
openswanvpngw,Server,NA1,10.157.110.13,Running,01/01/2013 00:00,02/01/2013
00:00,24,1,2,10,0,24,48,240,0,0,0,0,0,0,0,0
test windows 2008,Server,NA1,10.157.110.14,Running,01/01/2013 00:00,02/01/2013
00:00,24,2,4,32,160,48,96,768,24,0,0,0,0,0,0,0
Network: network_1 IP Block:
168.143.92.136(4),IpBlock,NA1,,Reserved,01/01/2013 11:47,02/01/2013
00:00,12.2,0,0,0,0,0,0,0,0,0,0,0,0,48.82,0,0
Windows 2008 32 bit test,Server,NA1,10.157.110.14,Running,01/01/2013
00:00,02/01/2013 00:00,24,2,4,32,0,48,96,768,0,0,0,0,0,0,0,0
RedHat Enterprise 4 32 bit,Image,NA1,,Running,01/01/2013 00:00,02/01/2013
00:00,24,0,0,10,0,0,0,240,0,0,0,0,0,0,0,0
RedHat Enterprise 4 64 Bit,Image,NA1,,Running,01/01/2013 00:00,02/01/2013
00:00,24,0,0,10,0,0,0,240,0,0,0,0,0,0,0,0
CentOS5 32 Bit,Image,NA1,,Running,01/01/2013 00:00,02/01/2013
00:00,24,0,0,10,0,0,0,240,0,0,0,0,0,0,0,0
CentOS5 64 Bit,Image,NA1,,Running,01/01/2013 00:00,02/01/2013
00:00,24,0,0,10,0,0,0,240,0,0,0,0,0,0,0,0
clone_00372,Image,NA1,,Running,01/01/2013 00:00,02/01/2013
00:00,24,0,0,10,0,0,0,240,0,0,0,0,0,0,0,0
sub_admin_1,Sub-Administrator,,,Running,01/01/2013 00:00,02/01/2013
00:00,24,0,0,0,0,0,0,0,0,0,0,24,0,0,0,0
network_1,Network,NA1,,Running,01/01/2013 00:00,02/01/2013
00:00,24,0,0,0,0,0,0,0,0,0,0,0,24,0,0,0
TOTAL for 2013-01-01,,,,,01/01/2013 00:00,02/01/2013
00:00,24,0,0,0,0,144,288,3360,24,0,0,24,24,48.82,0,0

9.2.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

0

400 (Error)

REASON_520

Invalid Input Date(s).

429 (Too Many
Requests)

REASON_529

Concurrent request limit has been reached.

1

9.3. Software Units Report
9.3.1. Description
Provides a CSV-formatted report identifying the software unit calculation specifics for any Priced Software
on virtual servers across the account. See the List Software Labels function for further information. Note
the function will return a maximum of 31 days of data. If the end date exceeds 31 days from the start
date, an error will be returned.

9.3.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/
report/usageSoftwareUnits?startDate=YYYY-MM-DD&endDate=YYYY-MM-DD

Request Type

HTTP GET

9.3.3. Response Details
Date, Location, Server, Server ID, CPU Count, Software, Units when Started,
Units when Stopped, Per, Running Hours, Stopped Hours, Software Units
30-Jun-2007, NA1, Server2, 422879a6-a1c3-4f2c-a579-21268243e34d, 2, Linux, 10,
0, CPU, 5, 5, 100
30-Jun-2007, NA1, Server2, 422879a6-a1c3-4f2c-a579-21268243e34d, 2, Oracle,
25, 15, SERVER, 5, 5, 200
30-Jun-2007, NA1, Server2, 422879a6-a1c3-4f2c-a579-21268243e34d, 3, Linux, 10,
0, CPU, 13, 1, 390
30-Jun-2007, NA1, Server2, 422879a6-a1c3-4f2c-a579-21268243e34d, 3, Oracle,
25, 15, SERVER, 13, 1, 340
30-Jun-2007, NA1, Server1, a1d343dc-861f-4cc6-abdf-af69e6e72eff, 2, Linux, 10,
0, CPU, 24, 0, 480

9.3.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_520

Invalid Input Date(s).

2

9.4. Audit Log Report
9.4.1. Description
Provides a CSV-formatted daily usage report of administrative actions taken across the account. Note the
function will return a maximum of 30 days of data. If the end date exceeds 30 days from the start date,
an “invalid input data” error will be returned.

9.4.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/auditlog?startDate=YYYYMM-DD&endDate=YYYY-MM-DD

Request Type

HTTP GET

9.4.3. Response Details
A sample response is shown below. Note that long running actions on networks and servers are logged
with two rows. The first indicating initiation of the action; “ATTEMPT: <details>”, followed (not necessarily
sequentially) by a second entry logging the success or failure of the action.
UUID,Time,Create User,Department,Customer Defined 1,Customer Defined
2,Type,Name,Action,Details,Response Code
16aa6bd1-6244-4bbe-ad04-295d1965109a,16/11/2011 10:32,koala,,,,NETWORK,Staging
Network,Add Network,ATTEMPT: Add Network 'Staging Network',
6dec7bb9-352f-4eb5-8cf0-a662222b3c1c,16/11/2011 10:32,koala,,,,NETWORK,Staging
Network,Add Network,Add Network 'Staging Network',OK
0b1e8e74-19b5-48b9-a2e9-fe9682173917,16/11/2011
10:33,koala,,,,ACL_RULE,PermitApp,Add Acl Rule,ATTEMPT: Add Acl Rule
'PermitApp',
89b0be75-d910-44aa-96e6-dc5e59578b0a,16/11/2011
10:33,koala,,,,ACL_RULE,PermitApp,Add Acl Rule,Add Acl Rule 'PermitApp',OK
6eee972d-cb64-4876-a8fa-f2eb133c225b,16/11/2011 10:36,koala,,,,SERVER,LAMP
Web[10-157-9-11],Deploy Server,ATTEMPT: Deploy Server 'LAMP Web[10-157-9-11]',

9.4.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_520

Invalid Input Dates

3

10.

Deprecated Functions

These functions continue to operate in the 0.9 version of the API, but have been replaced by newer
functions within the same version. The functions will not be included in the next version of the API, so it is
recommended that customers update their code to use the replacement function.

10.1.

List Data Centers with Limits

Deprecated by List Data Centers (With Parameters)

10.1.1. Description
This function identifies the list of data centers available to the organization of the authenticating user and
deprecates the List Data Centers function. Users with appropriate roles can deploy networks, servers and
images in each available data center location.
Each data center within the list has various details including a unique identifier “location”, the appropriate
VPN URL corresponding to that location and the default data center for the organization is marked by the
Boolean “default” property. Calling APIs that are not location aware, such as “Create Network”, will result
in the default location being used. In each relevant case, a location aware API is now available.
Each data center includes a <maxCpu> and <maxRamMb> elements defining the upper ceiling for the
number of CPUs and quantity of RAM permitted respectively for Customer Servers deployed at that data
center.

10.1.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/datacenterWithLimits

Request Type

HTTP GET

10.1.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns8:Datacenters xmlns:ns8="http://oec.api.opsource.net/schemas/datacenter" ..
>
<ns8:datacenter>
<ns8:location>NA1</ns8:location>
<ns8:displayName>North America - East</ns8:displayName>
<ns8:city>Ashburn</ns8:city>
<ns8:state>Virginia</ns8:state>
<ns8:country>US</ns8:country>
<ns8:vpnUrl>https://vpnna1.opsourcecloud.net/na1</ns8:vpnUrl>
<ns8:default>true</ns8:default>
<ns8:maxCpu>8</ns8:maxCpu>
<ns8:maxRamMb>65536</ns8:maxRamMb>
</ns8:datacenter>
<ns8:datacenter>

:

</ns8:datacenter>
<ns8:datacenter>

:

</ns8:datacenter>
</ns8:Datacenters>

10.1.4. Fault Codes
HTTP Code Reason Code Description
400 (Error)

REASON_10

Failure at network.

400 (Error)

REASON_100 {org-id} invalid (does not match credentials).

4

10.2. List Multi-Geography Data Centers
Deprecated by List Multi-Geography Data Centers with Key

10.2.1. Description
Returns a list of the Multi-Geography Data Centers available for the supplied {org-id}.
A <geo> element is returned for each available Multi-Geography Data Center.
The <isHome> element will be true for one <geo> element on the list. The home geography is the
geography at which the organization represented by {org-id} was initially set up. The value of <isHome>
will be false for every geography subsequently set up for the organization.

10.2.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/geo

Request Type

HTTP GET

10.2.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Geos xmlns=http://oec.api.opsource.net/schemas/multigeo ... >
<geo>
<id>lk76kf30-2cb3-1791-5476-231567-09gt87</id>
<name>North America</name>
<cloudUiUrl>https://admin.opsourcecloud.net</cloudUiUrl>
<cloudApiUrl>https://api.opsourcecloud.net/oec/0.9</cloudApiUrl>
<isHome>true</isHome>
<productKey>OBPK-PRD-7f5e343hg6-dahb-4fe8-835a-d5465gt01b</productKey>
<pricingUrl>http://www.opsource.net/pricing</pricingUrl>
<state>ENABLED</state>
</geo>
<geo>
<id>bf43kf30-2c83-11e1-9963-001517-45hj54</id>
<name>Europe</name>
<cloudUiUrl>https://eu.opsourcecloud.net</cloudUiUrl>
<cloudApiUrl>https://euapi.opsourcecloud.net/oec/0.9</cloudApiUrl>
<isHome>false</isHome>
<productKey>OBPK-PRD-7f5eahg6-daeb-4ee8-835a-a1034fb0de</productKey>
<pricingUrl>http://www.opsource.net/pricing</pricingUrl>
<state>ENABLED</state>
</geo>
</Geos>

10.2.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

400 (Error)

REASON_714

Multigeography access is not permitted for the supplied organization
{org-id}.

5

10.3. Get Server Details
Deprecated by List Servers (With Parameters)

10.3.1. Description
Retrieves the details of a specific server. Requires your organization ID and the ID of the target server.

10.3.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/server/{server-id}

Request Type

HTTP GET

10.3.3. Response Details
Note that during an update to <additionalLocalStorage> on a server the value returned for that property
will not change until the update in progress is recognized as being complete and successful.
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Server xmlns:ns2="http://oec.api.opsource.net/schemas/organization" .. >
<id>37605271-d650-4d8e-a0b0-ad46b25d0952</id>
<name>10-147-16-11</name>
<description>ApiDocTest</description>
<vlanResourcePath>/oec/1831c1a9-9c03/network/923a-6d4c</vlanResourcePath>
<imageResourcePath></imageResourcePath>
<operatingSystem>
<type>UNIX</type>
<displayName>REDHAT5</displayName>
</operatingSystem>
<cpuCount>1</cpuCount>
<memory>2048</memory>
<osStorage>30</osStorage>
<additionalLocalStorage>0</additionalLocalStorage>
<privateIPAddress>10.147.16.11</privateIPAddress>
<isDeployed>true</isDeployed>
<isStarted>false</isStarted>
<created>2009-09-25T10:43:22.105Z</created>
</Server>

10.3.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_395

Could not find server for ID for {org-id}.

6

10.4. List Deployed Servers
Deprecated by List Servers (With Parameters)

10.4.1. Description
This function provides a list of all currently deployed Servers. It replaces the deprecated List Servers
function and includes two changes from that previous function:
•

Replacing the <vlanResourcePath> and <imageResourcePath> elements with the
<networkId> and <sourceImageId> elements

•

Adding an optional <status> section that is populated if there is an ongoing operation (start,
shutdown, reboot, clone, etc.) affecting the server. Servers in such a state cannot have other
actions performed against the image until the action is complete. The <action> element identifies
what is taking place, including the <requestTime> and what <username> requested it. The
optional <step> information provides progress information for long-running tasks such as creating
a Customer Image for the server and adding local Storage to a server. In these cases, the
optional <step> and <number of Steps> elements identify which step the action is in and how
many steps need to be performed. <percentComplete> identifies how far along the step is, when
available. Since these updates will not be in real-time, a <updateTime> field identifies the time of
the last update.

•

The <failureReason> element is populated if a previous action taken against the server (such as
add storage or delete server) failed and left the image in an unrecoverable state. This state would
indicate that the server is locked from further changes - you will need to contact Support to
address the problem.

10.4.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/server/deployed

Request Type

HTTP GET

10.4.3. Response Details (descriptive – includes all optional)
<DeployedServers>
<!--Zero or more repetitions:-->
<DeployedServer>
<id>string</id>
<name>string</name>
<!--Optional:-->
<description>string</description>
<machineSpecification>
<cpuCount>3</cpuCount>
<memoryMb>4096</memoryMb>
<osStorageGb>10</osStorageGb>
<additionalLocalStorageGb>10</additionalLocalStorageGb>
<operatingSystem>
<type>string</type>
<displayName>string</displayName>
</operatingSystem>
</machineSpecification>
<sourceImageId>string</sourceImageId>
<networkId>string</networkId>
<privateIpAddress>string</privateIpAddress>
<!--Optional:-->
<publicIpAddress>string</publicIpAddress>
<machineName>string</machineName>
<isStarted>false</isStarted>
<!--Optional:-->
<deployedTime>2007-10-26T07:36:28</deployedTime>
<!--Optional:-->
<status>
<action>string</action>
<requestTime>2004-02-14T18:44:14</requestTime>
<userName>string</userName>
<!--Optional:-->
7

<numberOfSteps>3</numberOfSteps>
<!--Optional:-->
<updateTime>2018-11-01T05:36:46+00:00</updateTime>
<!--Optional:-->
<step>
<name>string</name>
<number>3</number>
<!--Optional:-->
<percentComplete>3</percentComplete>
</step>
<!--Optional: (present only if the last operation failed and left
the server in a locked state) -->
<failureReason>text - e.g. Additional local storage could not be
added because...</failureReason>
</status>
</DeployedServer>
</DeployedServers>

10.4.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

8

10.5. List Pending Deployment Servers
Deprecated by List Servers (With Parameters)

10.5.1. Description
This function identifies servers that are in the process of deployment (i.e. in the process of being cloned
from an image) and their status:
•

The mandatory <status> section identifies the progress being made on the deployment. The
<action> element will always identify a pending deployment, including the <requestTime> and
what <username> requested it. The optional <step> information provides progress information
on each step in the deployment (i.e. queue, clone, guest o/s customization). The <step> and
<number of Steps> elements identify which step the action is in and how many steps need to be
performed. <percentComplete> identifies how far along the step is, when available. Since these
updates will not be in real-time, a <updateTime> field identifies the time of the last update.

•

The <failureReason> element is populated only if the server deployment failed and left the
resulting server in an unrecoverable state. The Clean Failed Server Deployment API can be
used to remove such failed deployments.

10.5.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/server/pendingDeploy

Request Type

HTTP GET

10.5.3. Response Details (descriptive – includes all optional)
<PendingDeployServers>
<!--Zero or more repetitions:-->
<PendingDeployServer>
<id>string</id>
<name>string</name>
<!--Optional:-->
<description>string</description>
<machineSpecification>
<cpuCount>3</cpuCount>
<memoryMb>4096</memoryMb>
<osStorageGb>10</osStorageGb>
<additionalLocalStorageGb>10</additionalLocalStorageGb>
<operatingSystem>
<type>string</type>
<displayName>string</displayName>
</operatingSystem>
</machineSpecification>
<sourceImageId>string</sourceImageId>
<networkId>string</networkId>
<privateIpAddress>string</privateIpAddress>
<status>
<action>string</action>
<requestTime>2008-09-29T02:49:45</requestTime>
<userName>string</userName>
<!--Optional:-->
<numberOfSteps>3</numberOfSteps>
<!--Optional:-->
<updateTime>2014-09-19T00:18:33</updateTime>
<!--Optional:-->
<step>
<name>string</name>
<number>3</number>
<!--Optional:-->
<percentComplete>3</percentComplete>
</step>
<!--Optional: (present only if the deploy operation failed and
left the server in a locked state) -->
<failureReason>text - e.g. Guest OS customization
failed</failureReason>
</status>
9

</PendingDeployServer>
</PendingDeployServers>

10.5.4. Fault Codes
HTTP Code

Reason Code

Description

400 (Error)

REASON_100

{org-id} invalid (does not match credentials).

0

10.6.

Reserve Public IP Block

Deprecated by Reserve Public IP Block with Size

10.6.1. Description
Obtains an additional Public IP block and assigns it to the referenced network.

10.6.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{netid}/publicip?reserveNew

Request Type

HTTP GET

10.6.3.
10.6.4. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns8:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns8:operation>Reserve New Public IP Block</ns8:operation>
<ns8:result>SUCCESS</ns8:result>
<ns8:resultDetail>Public IP block with base IP 168.143.1.1 is
reserved</ns8:resultDetail>
<ns8:resultCode>REASON_0</ns8:resultCode>
</ns8:Status>

10.6.5. Fault Codes
HTTP Code

Reason Code

Description

200 (OK)

-

Request completed successfully

401 (Unauthorized) -

Invalid request credentials

400 (Error)

REASON_250

Network does not exist for {org-id}

400 (Error)

REASON_330

No IP block available, location: <NETWORK_LOCATION>, agg:
<NETWORK_AGG>

400 (Error)

REASON_340

IP Block operation failed.

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_10

Failure at Network

1

10.7. List Deployed Servers on Network with Software Labels
10.7.1. Description
Deprecated by List Deployed Servers on Network with Disks
Deprecates the previous List Deployed Servers on Network with Status function by including additional
information regarding any Priced Software packages installed on each server (see List Software Labels).

10.7.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/server/deployedWithSoftwareLabels

Request Type

HTTP GET

10.7.3. Response Details (descriptive – includes all optional)
<DeployedServersWithSoftwareLabels>
<!--Zero or more repetitions:-->
<DeployedServerWithSoftwareLabels>
<id>string</id>
<name>string</name>
<!--Optional:-->
<description>string</description>
<machineSpecification>
<cpuCount>3</cpuCount>
<memoryMb>4096</memoryMb>
<osStorageGb>10</osStorageGb>
<additionalLocalStorageGb>10</additionalLocalStorageGb>
<operatingSystem>
<type>string</type>
<displayName>string</displayName>
</operatingSystem>
</machineSpecification>
<sourceImageId>string</sourceImageId>
<networkId>string</networkId>
<privateIpAddress>string</privateIpAddress>
<!--Optional:-->
<publicIpAddress>string</publicIpAddress>
<machineName>string</machineName>
<isStarted>false</isStarted>
<!--Optional:-->
<deployedTime>2007-10-26T07:36:28</deployedTime>
<!--Optional:-->
<status>
<action>string</action>
<requestTime>2004-02-14T18:44:14</requestTime>
<userName>string</userName>
<!--Optional:-->
<numberOfSteps>3</numberOfSteps>
<!--Optional:-->
<updateTime>2018-11-01T05:36:46+00:00</updateTime>
<!--Optional:-->
<step>
<name>string</name>
<number>3</number>
<!--Optional:-->
<percentComplete>3</percentComplete>
</step>
<!--Optional: (present only if the last operation failed and left
the server in a locked state) -->
<failureReason>text - e.g. Additional local storage could not be
added because...</failureReason>
</status>
<!--Optional multi-occuring :-->
<machineStatus name="vmwareToolsVersionStatus">
<value>CURRENT</value>
2

</machineStatus>
<machineStatus name="vmwareToolsRunningStatus">
<value>RUNNING</value>
</machineStatus>
<machineStatus name="vmwareToolsApiVersion">
<value>8290</value>
</machineStatus>
<softwareLabel>MSSQLE2008</softwarelabel>
(zero-to-many of these)
</DeployedServerWithSoftwareLabels>
</DeployedServersWithSoftwareLabels>

10.7.4. Fault Codes
HTTP Code

Reason Code

Description

200 (OK)

-

Request completed successfully

401 (Unauthorized) -

Invalid request credentials

400 (Error)

REASON_100

“org-id” unknown

400 (Error)

REASON_250

Could not find network for ID for {org-id}

3

10.8. List Pending Deployment Servers on Network
10.8.1. Description
Deprecated by List Pending Deployment Servers on Network with Disks
This function identifies servers that are in the process of deployment (i.e. in the process of being cloned
from an image) and their status. The response is identical to the List Pending Deployment Servers
function and a detailed explanation is provided with that function’s documentation.

10.8.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/server/pendingDeploy

Request Type

HTTP GET

10.8.3. Response Details (descriptive – includes all optional)
<PendingDeployServers>
<!--Zero or more repetitions:-->
<PendingDeployServer>
<id>string</id>
<name>string</name>
<!--Optional:-->
<description>string</description>
<machineSpecification>
<cpuCount>3</cpuCount>
<memoryMb>4096</memoryMb>
<osStorageGb>10</osStorageGb>
<additionalLocalStorageGb>10</additionalLocalStorageGb>
<operatingSystem>
<type>string</type>
<displayName>string</displayName>
</operatingSystem>
</machineSpecification>
<sourceImageId>string</sourceImageId>
<networkId>string</networkId>
<privateIpAddress>string</privateIpAddress>
<status>
<action>string</action>
<requestTime>2008-09-29T02:49:45</requestTime>
<userName>string</userName>
<!--Optional:-->
<numberOfSteps>3</numberOfSteps>
<!--Optional:-->
<updateTime>2014-09-19T00:18:33</updateTime>
<!--Optional:-->
<step>
<name>string</name>
<number>3</number>
<!--Optional:-->
<percentComplete>3</percentComplete>
</step>
<!--Optional: (present only if the deploy operation failed and
left the server in a locked state) -->
<failureReason>text - e.g. Guest OS customization
failed</failureReason>
</status>
</PendingDeployServer>
</PendingDeployServers>

10.8.4. Fault Codes
HTTP Code

Reason Code

Description

200 (OK)

-

Request completed successfully

4

401 (Unauthorized) -

Invalid request credentials

400 (Error)

Could not find network for ID for {org-id}

REASON_250

5

10.9.

List Deployed Customer Images in Location

Deprecated by List Deployed Customer Images with Software Labels in Location.
Like List Deployed Customer Images, this function identifies the deployed images belonging to a customer
organization. However this API limits the list of images to those deployed at a particular data center
location.

10.9.1. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/image/deployed/{locationid}

Request Type

HTTP GET

10.9.2. Response Details (descriptive – includes all optional)
<DeployedImages>
<!--Zero or more repetitions:-->
<DeployedImage>
<id>string</id>
<name>string</name>
<!--Optional:-->
<description>string</description>
<machineSpecification>
<cpuCount>3</cpuCount>
<memoryMb>4096</memoryMb>
<osStorageGb>10</osStorageGb>
<additionalLocalStorageGb>10</additionalLocalStorageGb>
<operatingSystem>
<type>string</type>
<displayName>string</displayName>
</operatingSystem>
</machineSpecification>
<!--Optional:-->
<sourceServerId>string</sourceServerId>
<!--Optional:-->
<deployedTime>2008-09-29T02:49:45</deployedTime>
<!--Optional:-->
<location>NA1</location>
<!--Optional:-->
<status>
<action>string</action>
<requestTime>2014-09-19T00:18:33</requestTime>
<userName>string</userName>
<!--Optional:-->
<numberOfSteps>3</numberOfSteps>
<!--Optional:-->
<updateTime>2006-08-19T18:27:14+01:00</updateTime>
<!--Optional:-->
<step>
<name>string</name>
<number>3</number>
<!--Optional:-->
<percentComplete>3</percentComplete>
</step>
<!--Optional: (present only if the last operation failed and left
the image in a locked state) -->
<failureReason>text - e.g. Image export failed
because...</failureReason>
</status>
</DeployedImage>
</DeployedImages>

10.9.3. Fault Codes
HTTP Code

Reason Code


Description6

200 (OK)

-

Request completed successfully

401 (Unauthorized)

-

Invalid request credentials

400 (Error)

REASON_10

Failure at network

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_770

Invalid location (see List Data Centers with Limits)

7

10.10. List OS Server Images in Location
Deprecated by List OS Server Images with Software Labels in Location.
Lists the OS Images available at a particular data center location.

10.10.1. Request Details
URL

https://<Cloud API URL>/oec/0.9/base/image/{location-id}

Request Type

HTTP GET

10.10.2. Response Details
<?xml version="1.0" encoding="UTF-8"?>
<ServerImages xmlns=http://oec.api.opsource.net/schemas/server .. >
<ServerImage>
<id>f084e5c0-87d6-4214-8803-18096c14d573</id>
<resourcePath>/oec/base/image/f084e5c0-87d6-4214-880318096c14d573</resourcePath>
<name>Microsoft Windows Server 2003</name>
<description>Windows Server 2003 (32-bit), 1 CPU, 2
GB RAM, 16 GB Storage</description>
<operatingSystem>
<type>WINDOWS</type>
<displayName>WIN2003E/32</displayName>
</operatingSystem>
<location>NA1</location>
<cpuCount>1</cpuCount>
<memory>2048</memory>
<osStorage>16</osStorage>
<additionalLocalStorage>0</additionalLocalStorage>
<created>1970-01-15T15:08:19.891Z</created>
</ServerImage>
<ServerImage>
:
</ServerImage>
<ServerImage>
:
</ServerImage>
</ServerImages>

10.10.3. Fault Codes
HTTP Code

Reason Code

Description

200 (OK)

-

Request completed successfully

401 (Unauthorized)

-

Invalid request credentials

400 (Error)

REASON_10

Failure at network

400 (Error)

REASON_20

Unrecoverable failure cause by a timeout.

400 (Error)

REASON_770

Invalid location (see List Data Centers with Limits)

8

10.11.

List Deployed Servers on Network with Status

10.11.1. Description
Deprecated by List Deployed Servers on Network with Software Labels.
Deprecates the List Deployed Servers on Network function by including additional, optional information
regarding the status of VMware Tools on each server.

10.11.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/server/deployedWithStatus

Request Type

HTTP GET

10.11.3. Response Details (descriptive – includes all optional)
<DeployedServers>
<!--Zero or more repetitions:-->
<DeployedServer>
<id>string</id>
<name>string</name>
<!--Optional:-->
<description>string</description>
<machineSpecification>
<cpuCount>3</cpuCount>
<memoryMb>4096</memoryMb>
<osStorageGb>10</osStorageGb>
<additionalLocalStorageGb>10</additionalLocalStorageGb>
<operatingSystem>
<type>string</type>
<displayName>string</displayName>
</operatingSystem>
</machineSpecification>
<sourceImageId>string</sourceImageId>
<networkId>string</networkId>
<privateIpAddress>string</privateIpAddress>
<!--Optional:-->
<publicIpAddress>string</publicIpAddress>
<machineName>string</machineName>
<isStarted>false</isStarted>
<!--Optional:-->
<deployedTime>2007-10-26T07:36:28</deployedTime>
<!--Optional:-->
<status>
<action>string</action>
<requestTime>2004-02-14T18:44:14</requestTime>
<userName>string</userName>
<!--Optional:-->
<numberOfSteps>3</numberOfSteps>
<!--Optional:-->
<updateTime>2018-11-01T05:36:46+00:00</updateTime>
<!--Optional:-->
<step>
<name>string</name>
<number>3</number>
<!--Optional:-->
<percentComplete>3</percentComplete>
</step>
<!--Optional: (present only if the last operation failed and left
the server in a locked state) -->
<failureReason>text - e.g. Additional local storage could not be
added because...</failureReason>
</status>
<!--Optional multi-occuring :-->
<machineStatus name="vmwareToolsVersionStatus">
<value>CURRENT</value>
9

</machineStatus>
<machineStatus name="vmwareToolsRunningStatus">
<value>RUNNING</value>
</machineStatus>
<machineStatus name="vmwareToolsApiVersion">
<value>8290</value>
</machineStatus>
</DeployedServer>
</DeployedServers>

10.11.4. Fault Codes
HTTP Code

Reason Code

Description

200 (OK)

-

Request completed successfully

401 (Unauthorized) -

Invalid request credentials

400 (Error)

Could not find network for ID for {org-id}

REASON_250

0

10.12.

Restart Server

10.12.1. Description
Deprecated by Reset Server.
Power cycles an existing deployed server. Requires your organization ID and the ID of the target server.

10.12.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/server/{serverid}?restart

Request Type

HTTP GET

10.12.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns6:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns6:operation> Restart Server</ns6:operation>
<ns6:result>SUCCESS</ns6:result>
<ns6:resultDetail>Server "Restart" issued</ns6:resultDetail>
<ns6:resultCode>REASON_0</ns6:resultCode>
</ns6:Status>

10.12.4. Fault Codes
HTTP Code

Reason Code

Description

200 (OK)

-

Request completed successfully

401 (Unauthorized) -

Invalid request credentials

400 (Error)

REASON_40

INVALID_STATE_TRANSITION - Server is not currently in a
stopped state. Servers must be stopped to be restarted.

400 (Error)

REASON_392

Operation in progress on Server with Id <SERVER_ID>

400 (Error)

REASON_395

Could not find server for ID for {org-id}

1

10.13.

List Deployed Servers on Network

10.13.1. Description
Deprecated by List Deployed Servers on Network with Status.
Deprecates List Servers on Network.
This function provides a list of all currently deployed Customer Servers located on a specific network. The
response is identical to the List Deployed Servers function and a detailed explanation is provided with
that function’s documentation.

10.13.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/server/deployed

Request Type

HTTP GET

10.13.3. Response Details (descriptive – includes all optional)
<DeployedServers>
<!--Zero or more repetitions:-->
<DeployedServer>
<id>string</id>
<name>string</name>
<!--Optional:-->
<description>string</description>
<machineSpecification>
<cpuCount>3</cpuCount>
<memoryMb>4096</memoryMb>
<osStorageGb>10</osStorageGb>
<additionalLocalStorageGb>10</additionalLocalStorageGb>
<operatingSystem>
<type>string</type>
<displayName>string</displayName>
</operatingSystem>
</machineSpecification>
<sourceImageId>string</sourceImageId>
<networkId>string</networkId>
<privateIpAddress>string</privateIpAddress>
<!--Optional:-->
<publicIpAddress>string</publicIpAddress>
<machineName>string</machineName>
<isStarted>false</isStarted>
<!--Optional:-->
<deployedTime>2007-10-26T07:36:28</deployedTime>
<!--Optional:-->
<status>
<action>string</action>
<requestTime>2004-02-14T18:44:14</requestTime>
<userName>string</userName>
<!--Optional:-->
<numberOfSteps>3</numberOfSteps>
<!--Optional:-->
<updateTime>2018-11-01T05:36:46+00:00</updateTime>
<!--Optional:-->
<step>
<name>string</name>
<number>3</number>
<!--Optional:-->
<percentComplete>3</percentComplete>
</step>
<!--Optional: (present only if the last operation failed and left
the server in a locked state) -->
<failureReason>text - e.g. Additional local storage could not be
added because...</failureReason>
</status>
2

</DeployedServer>
</DeployedServers>

10.13.4. Fault Codes
HTTP Code

Reason Code

Description

200 (OK)

-

Request completed successfully

401 (Unauthorized) -

Invalid request credentials

400 (Error)

Could not find network for ID for {org-id}

REASON_250

3

10.14. List Data Centers
10.14.1. Description
Deprecated by the List Data Centers with Limits function.
This function identifies the list of data centers available to the organization of the authenticating user.
Users with appropriate roles can deploy networks, servers and images in each available data center
location.
Each data center within the list has various details including a unique identifier “location”, the appropriate
VPN URL corresponding to that location and the default data center for the organization is marked by the
Boolean “default” property. Calling APIs that are not location aware, such as “Create Network”, will result
in the default location being used. In each relevant case, a location aware API is now available.

10.14.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/datacenter

Request Type

HTTP GET

10.14.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns8:Datacenters xmlns:ns8="http://oec.api.opsource.net/schemas/datacenter" ..
>
<ns8:datacenter>
<ns8:location>NA1</ns8:location>
<ns8:displayName>North America - East</ns8:displayName>
<ns8:city>Ashburn</ns8:city>
<ns8:state>Virginia</ns8:state>
<ns8:country>US</ns8:country>
<ns8:vpnUrl>https://vpnna1.opsourcecloud.net/na1</ns8:vpnUrl>
<ns8:default>true</ns8:default>
</ns8:datacenter>
<ns8:datacenter>

:
</ns8:datacenter>
<ns8:datacenter>

:

</ns8:datacenter>
</ns8:Datacenters>

10.14.4. Fault Codes
HTTP Code

Reason Code Description

200 (OK)

-

401 (Unauthorized) -

Request completed successfully
Invalid request credentials

403 (Forbidden)

REASON_140 Invalid role or {org-id} invalid (does not match credentials)

400 (Error)

REASON_10


Failure at network
4

10.15. List Web/DB Server Images
10.15.1. Description
Deprecated by the List OS Images function, which provides all images in a single call. Note that “<Image
Provider>” in the URLs below will accept any of the following values (without quotes): “opsource”, “ntta”,
“ntte” and “partner”.

10.15.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/<Image Provider>/image/web
https://<Cloud API URL>/oec/0.9/<Image Provider>/image/db

Request Type

HTTP GET

10.15.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ServerImages xmlns:ns2="http://oec.api.opsource.net/schemas/organization".. >
<ServerImage>
<id>c055e1df-6282</id>
<resourcePath>/oec/opsource/image/c055e1df-6282</resourcePath>
<name>Microsoft Windows Server 2008</name>
<description>Windows Server 2008, 2 CPU, 4 GB RAM, 62 GB</description>
<operatingSystem>
<type>WINDOWS</type>
<displayName>WIN2008/32</displayName>
</operatingSystem>
<location></location>
<cpuCount>2</cpuCount>
<memory>4096</memory>
<osStorage>62</osStorage>
<additionalLocalStorage>0</additionalLocalStorage>
<created>2009-01-15T12:12:12.385Z</created>
</ServerImage>
<ServerImage>
:
</ServerImage>
<ServerImage>
:
</ServerImage>
</ServerImages>

10.15.4. Fault Codes
HTTP Code

Reason Code

Description

200 (OK)

-

Request completed successfully

401 (Unauthorized) -


Invalid request credentials
5

10.16.

List Customer Server Images

10.16.1. Description
Deprecated by the List Deployed Customer Images function, which provides additional status
information about an image.

10.16.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/image

Request Type

HTTP GET

10.16.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ServerImages xmlns:ns2="http://oec.api.opsource.net/schemas/organization".. >
<ServerImage>
<id>e391e96d-7481</id>
<resourcePath>/oec/1831c1a9-9c03/image/e391e96d-7481</resourcePath>
<name>InvoicingServer</name>
<description>Invoicing Server Image</description>
<operatingSystem>
<type>UNIX</type>
<displayName>REDHAT5</displayName>
</operatingSystem>
<location></location>
<sourceResourcePath>/oec/1831c1a9-9c03/server/376/sourceResourcePath>
<cpuCount>1</cpuCount>
<memory>2048</memory>
<osStorage>30</osStorage>
<additionalLocalStorage>30</additionalLocalStorage>
<created>2009-09-25T10:49:28.569Z</created>
</ServerImage>
</ServerImages>

10.16.4. Fault Codes
HTTP Code

Reason Code

Description

200 (OK)

-

Request completed successfully

401 (Unauthorized) -


Invalid request credentials
6

10.17.

List Partner Server Images

10.17.1. Description
Used for retrieving Partner Images from which servers may be deployed. No Partner Images were ever
actually added to the environment, so this function is being removed.

10.17.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/partner/image

Request Type

HTTP GET

10.17.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ServerImages xmlns:ns2="http://oec.api.opsource.net/schemas/organization".. >
<ServerImage>
<id>c055e1df-6282</id>
<resourcePath>/oec/partner/image/c055e1df-6282</resourcePath>
<name>ACME Microsoft Windows Server 2008</name>
<description>Windows Server 2008 with ACME Software/description>
<operatingSystem>
<type>WINDOWS</type>
<displayName>WIN2008S/32</displayName>
</operatingSystem>
<location></location>
<cpuCount>2</cpuCount>
<memory>4096</memory>
<osStorage>100</osStorage>
<additionalLocalStorage>0</additionalLocalStorage>
<created>2009-01-15T12:12:12.385Z</created>
</ServerImage>
<ServerImage>
:
</ServerImage>
<ServerImage>
:
</ServerImage>
</ServerImages>

10.17.4. Fault Codes
HTTP Code

Reason Code

Description

200 (OK)

-

Request completed successfully

401 (Unauthorized) -


Invalid request credentials
7

10.18.

List Servers

10.18.1. Description
Deprecated by the List Deployed Servers function, which provides additional status information about a
server.

10.18.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/server

Request Type

HTTP GET

10.18.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Servers xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<Server>
<id>37605271-d650-4d8e-a0b0-ad46b25d0952</id>
<name>10-147-16-11</name>
<description>ApiDocTest</description>
<vlanResourcePath>/oec/1831-a33d/network/9dd23-afd3</vlanResourcePath>
<imageResourcePath></imageResourcePath>
<operatingSystem>
<type>UNIX</type>
<displayName>REDHAT5</displayName>
</operatingSystem>
<cpuCount>1</cpuCount>
<memory>2048</memory>
<osStorage>30</osStorage>
<additionalLocalStorage>0</additionalLocalStorage>
<machineName>10-147-17-33</machineName>
<privateIPAddress>10.147.16.11</privateIPAddress>
<isDeployed>true</isDeployed>
<isStarted>false</isStarted>
<created>2009-09-25T10:43:22.105Z</created>
</Server>
</Servers>

10.18.4. Fault Codes
HTTP Code

Reason Code

Description

200 (OK)

-

Request completed successfully

401 (Unauthorized) -


Invalid request credentials
8

10.19.

Stop Server

10.19.1. Description
Deprecated by the Power Off function, which provides the same functionality.

10.19.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/server/{server-id}?stop

Request Type

HTTP GET

10.19.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns6:Status xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<ns6:operation>Stop Server</ns6:operation>
<ns6:result>SUCCESS</ns6:result>
<ns6:resultDetail>Server "Stop" issued</ns6:resultDetail>
<ns6:resultCode>REASON_0</ns6:resultCode>
</ns6:Status>

10.19.4. Fault Codes
HTTP Code

Reason Code

Description

200 (OK)

-

Request completed successfully

401 (Unauthorized) -

Invalid request credentials

400 (Error)

REASON_40

INVALID_STATE_TRANSITION - Server is already stopped

400 (Error)

REASON_392

Operation in progress on Server with Id <SERVER_ID>

400 (Error)

REASON_395

Could not find server for ID for {org-id}

9

10.20.

List Servers on Network

10.20.1. Description
Deprecated by the List Deployed Servers on Network function, which provides additional status
information about a server.

10.20.2. Request Details
URL

https://<Cloud API URL>/oec/0.9/{org-id}/network/{networkid}/server

Request Type

HTTP GET

10.20.3. Response Details
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Servers xmlns:ns2="http://oec.api.opsource.net/schemas/organization" ..>
<Server>
<id>37605271-d650-4d8e-a0b0-ad46b25d0952</id>
<name>10-147-16-11</name>
<description>ApiDocTest</description>
<vlanResourcePath>/oec/1831-a33d/network/9dd23-afd3</vlanResourcePath>
<imageResourcePath></imageResourcePath>
<operatingSystem>
<type>UNIX</type>
<displayName>REDHAT5</displayName>
</operatingSystem>
<cpuCount>1</cpuCount>
<memory>2048</memory>
<osStorage>30</osStorage>
<additionalLocalStorage>0</additionalLocalStorage>
<machineName>10-147-17-33</machineName>
<privateIPAddress>10.147.16.11</privateIPAddress>
<isDeployed>true</isDeployed>
<isStarted>false</isStarted>
<created>2009-09-25T10:43:22.105Z</created>
</Server>
</Servers>

10.20.4. Fault Codes
HTTP Code

Reason Code

Description

200 (OK)

-

Request completed successfully

401 (Unauthorized) -

Invalid request credentials

400 (Error)

Could not find network for ID for {org-id}

REASON_250

